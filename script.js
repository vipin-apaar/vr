if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7,![]);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA){var bB=this['_getRootPlayer']();var bC=bB['getActivePlayerWithViewer'](bB['getMainViewer']());var bD=bC?bB['getMediaFromPlayer'](bC):undefined;var bE;if('media'in bA){var bF=bA['media'];var bG=Number(bF);bE=isNaN(bG)?this['setMediaByName'](bF):this['setMediaByIndex'](bG-0x1);}else if('media-index'in bA){bE=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bE=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bE==undefined){bE=this['setMediaByIndex'](0x0);}if(bE!=undefined){var bH=bE['get']('player');var bI=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bE['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bE,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bM=bB['getPlayListWithItem'](bE);if(bM){switch(bE['get']('class')){case'PanoramaPlayListItem':var bN=parseFloat(bA['yaw'])||undefined;var bO=parseFloat(bA['pitch'])||undefined;bB['setPanoramaCameraWithSpot'](bM,bE,bN,bO);break;case'Model3DPlayListItem':var bP=['yaw','pitch','x','y','z','distance'];var bQ={};for(var bR=0x0;bR<bP['length'];++bR){var bS=bP[bR];var bT=parseFloat(bA[bS]);if(!isNaN(bT))bQ[bS]=bT;}bB['setModel3DCameraSpot'](bM,bE,bQ);break;}}}}['bind'](this);if(bH){var bJ=bH['get']('viewerArea')==bB['getMainViewer']();var bK=bB['getMediaFromPlayer'](bH);if(bJ&&bD==bE['get']('media')||!bJ&&bK==bE['get']('media')){bI();return bE!=undefined;}}var bL=function(){bE['unbind']('begin',bL,this);bI();};bE['bind']('begin',bL,bB);}return bE!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bU=function(){var bV;var bW=function(){var bZ=this['_getRootPlayer']();bV=bZ['get']('lockedOrientation');bZ['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bX=function(){bW();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bX);this['reload'](!![]);}else{bW();}var bY=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bV);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],bY);var c0=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c0)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],bY);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bU);}};TDV['Tour']['prototype']['_updateParams']=function(c1,c2){if(c2&&'language'in c1){var c3=c1['language'];if(this['locManager']['hasLocale'](c3)){this['setLocale'](c3);}}var c4=function(c6,c7,c8){var c9=c7['split'](',');for(var ca=0x0,cb=c9['length'];ca<cb;++ca){c6['call'](this,c9[ca]['split']('+'),c8,'and');}};var c5=function(cc){var cd=this['_getRootPlayer']();var ce=cd['getActiveMediaWithViewer'](cd['getMainViewer']());if(ce['get']('class')!='Model3D')return;var cf=ce['get']('objects');var cg=[];cc['split']('+')['forEach'](function(ch){var ci=ch['split'](',');var cj=ci['shift']();if(cj in cd&&ci['length']%0x3==0x0){var ck=ci[0x0],cl=ci[0x1],cm=ci[0x2];var cn=cf['some'](function(cs){return cs['get']('class')=='MeasureModel3DObject'&&ck==cs['get']('x')&&cl==cs['get']('y')&&cm==cs['get']('z');});if(cn)return;var co=[];var cp=_cloneMeasureModel3DObject['call'](this,this[cj]);cp['set']('mode','view');cp['set']('x',ck);cp['set']('y',cl);cp['set']('z',cm);for(var cq=0x3;cq<ci['length'];cq+=0x3){var cr=this['createInstance']('MeasureModel3DObjectPoint');cr['set']('x',ci[cq]);cr['set']('y',ci[cq+0x1]);cr['set']('z',ci[cq+0x2]);co['push'](cr);}cp['set']('points',co);cg['push'](cp);}}['bind'](cd));if(cg['length']>0x0){ce['set']('objects',cf['concat'](cg));}};if('hide-components-tags'in c1||'hct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['hide-components-tags']||c1['hct'],![]);if('show-components-tags'in c1||'sct'in c1)c4['call'](this,this['setComponentsVisibilityByTags'],c1['show-components-tags']||c1['sct'],!![]);if('hide-overlays-tags'in c1||'hot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['hide-overlays-tags']||c1['hot'],![]);if('show-overlays-tags'in c1||'sot'in c1)c4['call'](this,this['setOverlaysVisibilityByTags'],c1['show-overlays-tags']||c1['sot'],!![]);if('hide-overlays-names'in c1||'hon'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['hide-overlays-names']||c1['hon'])['split'](','),![]);if('show-overlays-names'in c1||'son'in c1)this['setOverlaysVisibilityByName'](decodeURIComponent(c1['show-overlays-names']||c1['son'])['split'](','),!![]);if('show-object-ids'in c1||'sobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['show-object-ids']||c1['sobjids'])['split'](','),!![]);if('hide-object-ids'in c1||'hobjids'in c1)this['setObjectsVisibilityByID'](decodeURIComponent(c1['hide-object-ids']||c1['hobjids'])['split'](','),![]);if('variant'in c1)this['setModel3DVariant'](decodeURIComponent(c1['variant']));if('measures'in c1)c5['call'](this,decodeURIComponent(c1['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(ct,cu,cv,cw){TDV['EventDispatcher']['call'](this);this['rootPlayer']=ct;this['locales']={};this['defaultLocale']=cv;this['queryParam']=cw;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cx in cu){this['registerLocale'](cx,cu[cx]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cy,cz){var cA=[cy,cy['split']('-')[0x0]];for(var cB=0x0;cB<cA['length'];++cB){cy=cA[cB];if(!(cy in this['locales'])){this['locales'][cy]=cz;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cC){delete this['locales'][cC];if(cC==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cD){return cD in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cE){var cF;var cG=cE['split']('-')[0x0];var cH=[cE,cG];for(var cI=0x0;cI<cH['length'];++cI){var cK=cH[cI];if(cK in this['locales']){cF=cK;break;}}if(cF===undefined){for(var cK in this['locales']){if(cK['indexOf'](cG)==0x0){cF=cK;break;}}}if(cF===undefined){cF=this['defaultLocale'];}var cL=this['locales'][cF];if(cL!==undefined&&this['currentLocaleID']!=cF){this['currentLocaleID']=cF;var cM=this;if(typeof cL=='string'){var cN=new XMLHttpRequest();cN['onreadystatechange']=function(){if(cN['readyState']==0x4){if(cN['status']==0xc8){cM['locales'][cF]=cM['currentLocaleMap']=cM['_parsePropertiesContent'](cN['responseText']);cM['dispatchEvent'](cM['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cL+'\x20can\x27t\x20be\x20loaded';}}};var cO=cL;if(this['queryParam'])cO+=(cO['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cN['open']('GET',cO);cN['send']();}else{this['currentLocaleMap']=cL;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cP){function cQ(cU){return/^\d+$/['test'](cU);}var cR=this['currentLocaleMap'][cP];if(cR&&arguments['length']>0x2){var cS=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cT=arguments;cR=cR['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cV,cW){if(cQ(cW))cW=cT[parseInt(cW)+0x1];else if(cS!==undefined)cW=cS[cW];if(typeof cW=='string')cW=this['currentLocaleMap'][cW]||cW;else if(typeof cW=='function')cW=cW['call'](this['rootPlayer']);return cW!==undefined?cW:'';}['bind'](this));}return cR;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cX){cX=cX['replace'](/(^|\n)#[^\n]*/g,'');var cY={};var cZ=cX['split']('\x0a');for(var d0=0x0,d1=cZ['length'];d0<d1;++d0){var d2=cZ[d0]['trim']();if(d2['length']==0x0){continue;}var d3=d2['indexOf']('=');if(d3==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d0);continue;}var d4=d2['substr'](0x0,d3)['trim']();var d5=d2['substr'](d3+0x1)['trim']();var d6;while((d6=d5['lastIndexOf']('\x5c'))!=-0x1&&d6==d5['length']-0x1&&++d0<d1){d5=d5['substr'](0x0,d5['length']-0x2);d2=cZ[d0];if(d2['length']==0x0)break;d5+='\x0a'+d2;d5=d5['trim']();}cY[d4]=d5;}return cY;};TDV['Tour']['HistoryData']=function(d7){this['playList']=d7;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(d8){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==d8){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],d8);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(d9,da){return typeof da=='string'?d9[da['replace']('this.','')]:da;}function _initModels(){var db=this['getByClassName']('Model3D');db['forEach'](function(dc){var dd=dc['get']('data');var de=dd['panoramaLocations'];if(de){de['forEach'](function(df){df=_getObject(this,df);var dg=df['get']('data');var dh=_getObject(this,dg['panorama']);dh['set']('modelLocations',(dh['get']('modelLocations')||[])['concat'](df));}['bind'](this));}this['getPlayListItems'](dc)['forEach'](function(di){_initModel3DItem['call'](this,di);}['bind'](this));}['bind'](this));}function _initModel3DItem(dj){var dk=dj['get']('player');if(!dk)return;var dl=dk['get']('viewerArea');if(!dl)return;var dm=dj['get']('media');var dn;dj['bind']('begin',function(){_initModel['call'](this,dm);dn=dl['get']('doubleClickAction');dl['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dp){if(dp['get']('class')=='PanoramaPlayer'&&dp['get']('viewerArea')==dl){dp['set']('model3DPlayer',dk);}});},this);dj['bind']('stop',function(){dl['set']('doubleClickAction',dn);},this);}function _initModel(dq){var dr=dq['get']('data');if(!dr)dq['set']('data',dr={});if(!dr['panoramaLocations']||dr['isInitialized']||!dq['get']('isLoaded'))return;var ds=0xb4/Math['PI'];var dt=dq['get']('worldUnitToMeters')||0x1;var du=dr['maxDistanceObjectsVisible']||0x0;var dv=dr['panoramaLocations'];var dw=[];var dx=this['get']('data')['surfaceSelectionHotspotMode'];var dy=dx=='hotspotEnabled';dv['forEach'](function(dF){dF=_getObject(this,dF);var dG=dF['get']('data');var dH=dq['getDistanceToFloor']([dF['get']('x'),dF['get']('y'),dF['get']('z')]);var dI=_getObject(this,dG['panorama']);var dJ=dv['filter'](function(dS){var dT=_getObject(this,_getObject(this,dS)['get']('data'));return!dT['excludeAsHotspotPanorama']&&dI!=dT['panorama'];}['bind'](this))['map'](function(dU){dU=_getObject(this,dU);var dV=dU['get']('data');var dW=!!dV['excludeSurfaceSelectionModel'];var dX=dU['get']('x')-dF['get']('x'),dY=dU['get']('y')-dF['get']('y'),dZ=dU['get']('z')-dF['get']('z');var e0=Math['atan2'](dX,-dZ)*ds;var e1=Math['atan2'](dY,Math['sqrt'](dX*dX+dZ*dZ))*ds;var e2=Math['sqrt'](dX*dX+dY*dY+dZ*dZ);var e3=dq['getDistanceToFloor']([dU['get']('x'),dU['get']('y'),dU['get']('z')]);if(dH!==undefined&&e3!==undefined)dY=e3-dH;var e4=Math['sqrt'](dX*dX+dY*dY+dZ*dZ);return{'yaw':e0,'pitch':e1,'width':dV['width'],'height':dV['height'],'opacity':dV['opacity'],'anchorX':dV['anchorX']?dV['anchorX']:0.5,'anchorY':dV['anchorY']?dV['anchorY']:0.5,'transparentAreaActive':!!dV['transparentAreaActive'],'actions':dV['actions'],'position':{'x':dU['get']('x'),'y':dU['get']('y'),'z':dU['get']('z')},'toolTip':dV['toolTip'],'image':_getObject(this,dV['image']),'distance':e2*dt,'floorDistance':e4*dt,'panorama':_getObject(this,dV['panorama']),'backwardYaw':e0-0xb4-dU['get']('yaw'),'excludeSurfacePanorama':dW};}['bind'](this));dJ['sort'](function(e5,e6){return e5['distance']-e6['distance'];});var dK=[],dL=(dI['get']('adjacentPanoramas')||[])['concat']();var dM=dq['get']('maxNearestObjectsVisible');var dN=dr['showOnlyHotspotsLineSightInPanoramas'];var dO={'x':dF['get']('x'),'y':dF['get']('y'),'z':dF['get']('z')};dJ['forEach'](function(e7){if(e7['panorama']==dI||dM>0x0&&dK['length']>=dM||du>0x0&&e7['distance']>du||dN&&dq['testIntersection'](dO,e7['position']))return;var e8=dA['call'](this,e7['panorama'],e7['yaw']-dF['get']('yaw'),e7['pitch'],e7['width'],e7['height'],e7['anchorX'],e7['anchorY'],e7['opacity'],e7['transparentAreaActive'],e7['image'],dy&&!e7['excludeSurfacePanorama']);var e9=dB['call'](this,e7['panorama'],e7['yaw']-dF['get']('yaw'),e7['backwardYaw'],e7['floorDistance'],!e7['excludeSurfacePanorama']);dK['push'](e8);var ea=dL['findIndex'](function(ed){return ed['get']('panorama')==e7['panorama'];});if(ea!=-0x1)dL['splice'](ea,0x1);dL['push'](e9);var eb=e8['get']('areas')[0x0];if(e7['toolTip'])eb['set']('toolTip',e7['toolTip']);eb['bind']('click',dz['bind'](this,dI,e7['panorama'],dq,!![]),this);e9['bind']('select',dz['bind'](this,dI,e7['panorama'],dq,!![]),this);var ec=e7['actions'];if(ec){dE['call'](this,e8,ec);if('click'in ec)e9['bind']('select',new Function('event',ec['click']),this);}}['bind'](this));dI['set']('overlays',(dI['get']('overlays')||[])['concat'](dK));dI['set']('adjacentPanoramas',dL);var dP=!dq['get']('surfaceSelectionEnabled')||!!dG['excludeSurfaceSelectionModel'];var dQ;if(dP){dQ=dC['call'](this,dF['get']('x'),dF['get']('y'),dF['get']('z'),dG['width'],dG['height'],dG['anchorX']?dG['anchorX']:0.5,dG['anchorY']?dG['anchorY']:0.5,dG['opacity'],!!dG['transparentAreaActive'],dr['showOnlyHotspotsLineSight'],_getObject(this,dG['image']));dQ['set']('id','sprite_'+dF['get']('id'));dQ['set']('translationLineColor',dG['translationLineColor']!=null?dG['translationLineColor']:'#ffffff');dQ['set']('translationLineOpacity',dG['translationLineOpacity']!=null?dG['translationLineOpacity']:0x1);dQ['set']('translationLineVisible',dG['translationLineVisible']!=null?dG['translationLineVisible']:![]);dQ['set']('translationLineWidth',dG['translationLineWidth']!=null?dG['translationLineWidth']:0x1);dQ['set']('translationLength',dG['translationLength']!=null?dG['translationLength']:dr['showOnlyHotspotsLineSight']&&(dG['translationY']==null||dG['translationY']==0x0)?dG['height']/0x2:undefined);dQ['set']('translationX',dG['translationX']!=null?dG['translationX']:0x0);dQ['set']('translationY',dG['translationY']!=null&&dG['translationY']!=0x0?dG['translationY']:dr['showOnlyHotspotsLineSight']?0x1:0x0);dQ['set']('translationZ',dG['translationZ']!=null?dG['translationZ']:0x0);if(dG['toolTip'])dQ['set']('toolTip',dG['toolTip']);dG['sprite']=dQ;}else dQ=dD['call'](this,dF['get']('x'),dF['get']('y'),dF['get']('z'));if(dG['enabled']!==undefined)dQ['set']('enabled',dG['enabled']);dQ['get']('data')['location']=dF;var dR=dG['actions'];if(dR){dE['call'](this,dQ,dR);}dQ['bind']('click',dz['bind'](this,dq,dI,dq,![]),this);dw['push'](dQ);}['bind'](this));dq['set']('objects',(dq['get']('objects')||[])['concat'](dw));dr['isInitialized']=!![];function dz(ee,ef,eg,eh){var ei=this['getPlayListsWithMedia'](ee,!![])['filter'](function(ep){return this['getMediaFromPlayer'](ep['get']('items')[ep['get']('selectedIndex')]['get']('player'))==ee;}['bind'](this));if(ei['length']==0x0)return;var ej=this['getPlayListItemByMedia'](ei[0x0],ee);var ek=ej['get']('player')['get']('viewerArea');var el;this['getPlayListsWithMedia'](ef)['forEach'](function(eq){var er=this['getPlayListItemByMedia'](eq,ef);if(er['get']('player')['get']('viewerArea')==ek){if(eh&&ej['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){em();er['bind']('begin',eo,this);}eq['set']('selectedIndex',eq['get']('items')['indexOf'](er));}}['bind'](this));function em(){el=eg['get']('objects')['filter'](function(es){var et=es['get']('data');return et&&et['location']!==undefined;});el['forEach'](function(eu){eu['set']('enabled',![]);});}function en(){el['forEach'](function(ev){ev['set']('enabled',!![]);});}function eo(ew){ew['source']['unbind']('begin',eo,this);en();}}function dA(ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH){var eI=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eH,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eF?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':ey,'pitch':ez,'width':eA,'height':eB,'offsetX':eC*eA,'offsetY':eD*eB,'opacity':eE!=undefined?eE:0x1}]});eI['get']('items')[0x0]['set']('image',eG);return eI;}function dB(eJ,eK,eL,eM,eN){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eJ['get']('id'),'backwardYaw':eL,'yaw':eK,'distance':eM,'enabledInSurfaceSelection':eN});}function dC(eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY){var eZ=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eO,'y':eP,'z':eQ,'anchorX':eT,'anchorY':eU,'depthTest':eX,'transparentAreaActive':eW,'hideBasedOnDistance':!![],'width':eR,'height':eS,'opacity':eV!=undefined?eV:0x1,'data':{}});eZ['set']('image',eY);return eZ;}function dD(f0,f1,f2){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f0,'y':f1,'z':f2,'depthTest':![],'data':{}});}function dE(f3,f4){Object['keys'](f4)['forEach'](function(f5){if(f3['hasEvent'](f5))f3['bind'](f5,new Function('event',f4[f5]),this);}['bind'](this));}}function _findLocationWithPanorama(f6){var f7=this['getByClassName']('Model3D');for(var f8=0x0,f9=f7['length'];f8<f9;++f8){var fa=f7[f8];var fb=fa['get']('data');if(fb&&fb['panoramaLocations']){var fc=fb['panoramaLocations']['find'](function(fd){fd=_getObject(this,fd);return _getObject(this,fd['get']('data')['panorama'])==f6;}['bind'](this));if(fc)return _getObject(this,fc);}}return undefined;}function _getPlayersWithViewer(fe){var ff=this['getCurrentPlayers']();var fg=ff['length'];while(fg-->0x0){var fh=ff[fg];if(fh['get']('viewerArea')!=fe){ff['splice'](fg,0x1);}}return ff;}function _createInstance(fi,fj,fk){var fl=fi['createInstance'](fj);if(fk){fl['set']('id',fk);fi[fk]=fl;}return fl;}function _createInstanceFromObj(fm,fn){return fo(fn);function fo(fp,fq){if(typeof fp=='object'){if('class'in fp){try{fq=_createInstance(fm,fp['class'],fp['id']);}catch(fu){fq=fp;}}else{fq=fp;}}var fr=function(fv,fw){if('set'in fq)fq['set'](fv,fw);else fq[fv]=fw;};for(var fs in fp){var ft=fp[fs];if(typeof ft=='object'&&ft!==null)fr(fs,fo(ft,fq));else if(typeof ft=='string'&&ft['indexOf']('this.')==0x0)fr(fs,fm[ft['replace']('this.','')]);else fr(fs,ft);}return fq;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fx,fy){for(var fz in fx){var fA=fx[fz];if(typeof fA=='object'&&fA!==null)this['assignObjRecursively'](fx[fz],fy[fz]||(fy[fz]={}));else fy[fz]=fA;}return fy;};TDV['Tour']['Script']['autotriggerAtStart']=function(fB,fC,fD){var fE=function(fF){fC();if(fD==!![])fB['unbind']('change',fE,this);};fB['bind']('change',fE,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fG,fH,fI){var fJ=function(){fK['unbind']('stop',fJ,this);if(fI==fM['get']('backgroundColor')&&fP==fM['get']('backgroundColorRatios')){fM['set']('backgroundColor',fN);fM['set']('backgroundColorRatios',fO);}};var fK=fG['get']('items')[fH];var fL=fK['get']('player');var fM=fL['get']('viewerArea');var fN=fM['get']('backgroundColor');var fO=fM['get']('backgroundColorRatios');var fP=[0x0];if(fI!=fN||fP!=fO){fM['set']('backgroundColor',fI);fM['set']('backgroundColorRatios',fP);fK['bind']('stop',fJ,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fQ,fR,fS){var fT=function(){fU['unbind']('stop',fT,this);if(fX==fW['get']('backgroundOpacity')){fW['set']('opacity',fX);}};var fU=fQ['get']('items')[fR];var fV=fU['get']('player');var fW=fV['get']('viewerArea');var fX=fW['get']('backgroundOpacity');if(fS!=fX){fW['set']('backgroundOpacity',fS);fU['bind']('stop',fT,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(fY,fZ){var g0=fY['get']('selectedIndex');if(g0>=0x0&&fZ>=0x0&&g0!=fZ){var g1=fY['get']('items')[g0];var g2=fY['get']('items')[fZ];var g3=g1['get']('player');var g4=g2['get']('player');if((g3['get']('class')=='PanoramaPlayer'||g3['get']('class')=='Video360Player')&&(g4['get']('class')=='PanoramaPlayer'||g4['get']('class')=='Video360Player')){var g5=this['clonePanoramaCamera'](g2['get']('camera'));this['setCameraSameSpotAsMedia'](g5,g1['get']('media'));var g6=g5['get']('initialPosition');if(g6['get']('yaw')==undefined||g6['get']('pitch')==undefined||g6['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g2['get']('media'),g5);}}};TDV['Tour']['Script']['clone']=function(g7,g8){var g9=this['rootPlayer']['createInstance'](g7['get']('class'));var gb=g7['get']('id');if(gb){var gc=gb+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);g9['set']('id',gc);this[gc]=g9;}for(var gd=0x0;gd<g8['length'];++gd){var ge=g8[gd];var gf=g7['get'](ge);if(gf!=null)g9['set'](ge,gf);}return g9;};TDV['Tour']['Script']['cloneBindings']=function(gg,gh,gi){var gj=gg['getBindings'](gi);for(var gk=0x0;gk<gj['length'];++gk){var gl=gj[gk];if(typeof gl=='string')gl=new Function('event',gl);gh['bind'](gi,gl,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gm){var gn=this['clone'](gm,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var go=['initialSequence','idleSequence'];for(var gp=0x0;gp<go['length'];++gp){var gq=go[gp];var gr=gm['get'](gq);if(gr){var gs=this['clone'](gr,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gn['set'](gq,gs);var gt=gr['get']('movements');var gu=[];var gv=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gw=0x0;gw<gt['length'];++gw){var gx=gt[gw];var gy=this['clone'](gx,gv);var gz=gx['getBindings']('end');if(gz['length']>0x0){for(var gA=0x0;gA<gz['length'];++gA){var gB=gz[gA];if(typeof gB=='string'){gB=gB['replace'](gm['get']('id'),gn['get']('id'));gB=new Function('event',gB);gy['bind']('end',gB,this);}}}gu['push'](gy);}gs['set']('movements',gu);}}return gn;};TDV['Tour']['Script']['copyObjRecursively']=function(gC){var gD={};for(var gE in gC){var gF=gC[gE];if(typeof gF=='object'&&gF!==null)gD[gE]=this['copyObjRecursively'](gC[gE]);else gD[gE]=gF;}return gD;};TDV['Tour']['Script']['copyToClipboard']=function(gG){if(navigator['clipboard']){navigator['clipboard']['writeText'](gG);}else{var gH=document['createElement']('textarea');gH['value']=gG;gH['style']['position']='fixed';document['body']['appendChild'](gH);gH['focus']();gH['select']();try{document['execCommand']('copy');}catch(gI){}document['body']['removeChild'](gH);}};TDV['Tour']['Script']['createTween']=function(gJ,gK,gL,gM,gN){var gO=this['rootPlayer']['createInstance']('Effect');var gP=this['get']('data')['tweensState'];if(!gP){this['get']('data')['tweensState']=gP={};}var gQ='get'in gJ&&typeof gJ['get']==='function';var gR=(gQ&&gJ['get']('id')?gJ['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gS={};for(var gT in gK){var gU=gK[gT];if(gT['startsWith']('on')&&(typeof gU==='function'||typeof gU==='string')){var gV=gT['slice'](0x2);if(typeof gU==='string')gU=eval('('+gU+')');gO['bind'](gV['charAt'](0x0)['toLowerCase']()+gV['slice'](0x1),gU,this);}else if(typeof gU==='string'&&gU['startsWith']('#')){var gW=parseInt('0x'+(gQ?gJ['get'](gT)['slice'](0x1):gJ[gT]['slice'](0x1)));var gX=parseInt('0x'+gU['slice'](0x1));gS[gT]={'color':!![],'initialRGB':[gW>>0x10&0xff,gW>>0x8&0xff,gW&0xff],'finalRGB':[gX>>0x10&0xff,gX>>0x8&0xff,gX&0xff]};gP[gR+gT]=gO;}else{gS[gT]=gQ?gJ['get'](gT):gJ[gT];gP[gR+gT]=gO;}}gO['set']('duration',(gL||0x0)*0x3e8);gO['set']('easing',gM||'cubic_in_out');gO['set']('animationDirection',gN||'normal');gO['bind']('end',function(){for(var gY in gS){if(gP[gR+gY]==gO)delete gP[gR+gY];}this['disposeInstance'](gO);},this);gO['bind']('frame',function(){var gZ=gO['getPosition']();for(var h0 in gS){var h1=gS[h0];if(gP[gR+h0]!=gO)continue;if(typeof h1==='object'&&'color'in h1){var h2=Math['round'](h1['initialRGB'][0x0]+(h1['finalRGB'][0x0]-h1['initialRGB'][0x0])*gZ);var h3=Math['round'](h1['initialRGB'][0x1]+(h1['finalRGB'][0x1]-h1['initialRGB'][0x1])*gZ);var h4=Math['round'](h1['initialRGB'][0x2]+(h1['finalRGB'][0x2]-h1['initialRGB'][0x2])*gZ);h1='#'+((0x1<<0x18)+(h2<<0x10)+(h3<<0x8)+h4)['toString'](0x10)['slice'](0x1);}else{h1=h1+(gK[h0]-h1)*gZ;}if(gQ)gJ['set'](h0,h1);else gJ[h0]=h1;}},this);return gO;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h5,h6,h7,h8){var h9=undefined;var ha=function(he){if(he['data']['previousSelectedIndex']==h6){if(h8)h8['call'](this);if(h7&&h9)h9['unbind']('end',h7,this);h5['unbind']('change',ha,this);}};if(h7){var hb=h5['get']('items')[h6];var hc=hb['get']('class');if(hc=='PanoramaPlayListItem'||hc=='Model3DPlayListItem'){var hd=hb['get']('camera');if(hd!=undefined){h9=hd['get']('initialSequence');if(h9==undefined)h9=hd['get']('idleSequence');}}else{h9=hb['get']('media');}if(h9){h9['bind']('end',h7,this);}}h5['bind']('change',ha,this);};TDV['Tour']['Script']['executeJS']=function(hf){try{eval(hf);}catch(hg){console['log']('Javascript\x20error:\x20'+hg);console['log']('\x20\x20\x20code:\x20'+hf);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hh){var hi=hh['get']('buttonPlayPause');if(typeof hi!=='undefined'&&hh['get']('state')=='playing'){if(!Array['isArray'](hi))hi=[hi];for(var hj=0x0;hj<hi['length'];++hj)hi[hj]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hk){var hl=this['getActivePlayerWithViewer'](hk);if(hl==undefined){return undefined;}return this['getMediaFromPlayer'](hl);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hm){var hn=this['getActivePlayersWithViewer'](hm);return hn['length']>0x0?hn[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(ho){var hp=this['getCurrentPlayers']();var hq=hp['length'];var hr=[];while(hq-->0x0){var hs=hp[hq];if(hs['get']('viewerArea')==ho){var ht=hs['get']('class');if(ht=='PanoramaPlayer'&&(hs['get']('panorama')!=undefined||hs['get']('video')!=undefined)||(ht=='VideoPlayer'||ht=='Video360Player')&&hs['get']('video')!=undefined||ht=='PhotoAlbumPlayer'&&hs['get']('photoAlbum')!=undefined||ht=='MapPlayer'&&hs['get']('map')!=undefined||ht=='Model3DPlayer'&&hs['get']('model')!=undefined)hr['push'](hs);}}return hr;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hu){var hv=undefined;var hw=undefined;switch(hu['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hv='PanoramaPlayer';hw='panorama';break;case'Video360':hv='PanoramaPlayer';hw='video';break;case'PhotoAlbum':hv='PhotoAlbumPlayer';hw='photoAlbum';break;case'Map':hv='MapPlayer';hw='map';break;case'Video':hv='VideoPlayer';hw='video';break;case'Model3D':hv='Model3DPlayer';hw='media';break;}if(hv!=undefined){var hx=this['getByClassName'](hv);for(var hy=0x0;hy<hx['length'];++hy){var hz=hx[hy];if(hz['get'](hw)==hu){return hz;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hA=this['getByClassName']('PanoramaPlayer');hA=hA['concat'](this['getByClassName']('VideoPlayer'));hA=hA['concat'](this['getByClassName']('Video360Player'));hA=hA['concat'](this['getByClassName']('PhotoAlbumPlayer'));hA=hA['concat'](this['getByClassName']('MapPlayer'));hA=hA['concat'](this['getByClassName']('Model3DPlayer'));return hA;};TDV['Tour']['Script']['getGlobalAudio']=function(hB){var hC=window['currentGlobalAudios'];if(hC!=undefined&&hB['get']('id')in hC){hB=hC[hB['get']('id')]['audio'];}return hB;};TDV['Tour']['Script']['getMediaByName']=function(hD){var hE=this['getByClassName']('Media');for(var hF=0x0,hG=hE['length'];hF<hG;++hF){var hH=hE[hF];var hI=hH['get']('data');if(hI&&hI['label']==hD){return hH;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hJ,hK){return this['_getObjectsByTags'](hJ,['Media'],'tags2Media',hK);};TDV['Tour']['Script']['getAudioByTags']=function(hL,hM){return this['_getObjectsByTags'](hL,['Audio'],'tags2Media',hM);};TDV['Tour']['Script']['getOverlaysByTags']=function(hN,hO){return this['_getObjectsByTags'](hN,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hO);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hP){var hQ=this['get']('data');var hR='groupname2Overlays';var hS=hQ[hR];if(!hS){var hT=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hQ[hR]=hS={};for(var hU=0x0;hU<hT['length'];++hU){var hV=hT[hU];var hW=this['getByClassName'](hV);for(var hX=0x0,hY=hW['length'];hX<hY;++hX){var hZ=hW[hX];var i0=hZ['get']('data');if(i0&&i0['group']){var i1=hS[i0['group']];if(!i1)hS[i0['group']]=i1=[];i1['push'](hZ);}}}}return hS[hP]||[];};TDV['Tour']['Script']['getRootOverlay']=function(i2){var i3=i2['get']('class');var i4=i3['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var i5=i3['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(i4||i5){var i6=this['get']('data');var i7='overlays';var i8=i6[i7];if(!i8){var i9=['HotspotPanoramaOverlay'];i8=[];for(var ia=0x0;ia<i9['length'];++ia){var ib=i9[ia];i8=i8['concat'](this['getByClassName'](ib));}i6[i7]=i8;}var ic=i4?'areas':'items';for(var ie=0x0,ig=i8['length'];ie<ig;++ie){var ih=i8[ie];var ii=ih['get'](ic);if(ii){for(var ij=0x0;ij<ii['length'];++ij){if(ii[ij]==i2)return ih;}}}}return i2;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(ik){var il=this['getOverlaysByGroupname'](ik);if(il['length']>0x1){il['sort'](function(it,iu){var iv=it['get']('data')['groupIndex'];var iw=iu['get']('data')['groupIndex'];return iv-iw;});for(var im=0x0,io=il['length'];im<io;++im){var ip=il[im];var iq=il[(im+0x1)%io];var ir=ip['get']('class');var is=ip;if(ir=='HotspotPanoramaOverlay'){is=ip['get']('areas')[0x0];}is['bind']('click',function(ix,iy){this['setOverlaysVisibility']([ix],![]);this['setOverlaysVisibility']([iy],!![]);}['bind'](this,ip,iq),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iz,iA){return this['_getObjectsByTags'](iz,['UIComponent'],'tags2Components',iA);};TDV['Tour']['Script']['_getObjectsByTags']=function(iB,iC,iD,iE){var iF=this['get']('data');var iG=iF[iD];if(!iG){iF[iD]=iG={};for(var iH=0x0;iH<iC['length'];++iH){var iI=iC[iH];var iJ=this['getByClassName'](iI);for(var iL=0x0,iN=iJ['length'];iL<iN;++iL){var iP=iJ[iL];var iQ=iP['get']('data');if(iQ&&iQ['tags']){var iR=iQ['tags'];for(var iU=0x0,iV=iR['length'];iU<iV;++iU){var iW=iR[iU];if(iW in iG)iG[iW]['push'](iP);else iG[iW]=[iP];}}}}}var iX=undefined;iE=iE||'and';for(var iL=0x0,iN=iB['length'];iL<iN;++iL){var iY=iG[iB[iL]];if(!iY)continue;if(!iX)iX=iY['concat']();else{if(iE=='and'){for(var iU=iX['length']-0x1;iU>=0x0;--iU){if(iY['indexOf'](iX[iU])==-0x1)iX['splice'](iU,0x1);}}else if(iE=='or'){for(var iU=iY['length']-0x1;iU>=0x0;--iU){var iP=iY[iU];if(iX['indexOf'](iP)==-0x1)iX['push'](iP);}}}}return iX||[];};TDV['Tour']['Script']['getComponentByName']=function(iZ){var j0=this['getByClassName']('UIComponent');for(var j1=0x0,j2=j0['length'];j1<j2;++j1){var j3=j0[j1];var j4=j3['get']('data');if(j4!=undefined&&j4['name']==iZ){return j3;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var j5='MainViewer';return this[j5]||this[j5+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(j6){switch(j6['get']('class')){case'PanoramaPlayer':return j6['get']('panorama')||j6['get']('video');case'VideoPlayer':case'Video360Player':return j6['get']('video');case'PhotoAlbumPlayer':return j6['get']('photoAlbum');case'MapPlayer':return j6['get']('map');case'Model3DPlayer':return j6['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(j7){switch(j7['get']('class')){case'Video360':var j8=j7['get']('video');if(j8 instanceof Array){var j9=0x0;for(var ja=0x0;ja<j8['length'];ja++){var jb=j8[ja];if(jb['get']('width')>j9)j9=jb['get']('width');}return j9;}else{return jb['get']('width');}default:return j7['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jc){switch(jc['get']('class')){case'Video360':var jd=jc['get']('video');if(jd instanceof Array){var je=0x0;for(var jf=0x0;jf<jd['length'];jf++){var jg=jd[jf];if(jg['get']('height')>je)je=jg['get']('height');}return je;}else{return jg['get']('height');}default:return jc['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jh){switch(jh['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var ji=jh['get']('overlays')['concat']()||[];var jj=jh['get']('frames');for(var jk=0x0;jk<jj['length'];++jk){ji=ji['concat'](jj[jk]['get']('overlays')||[]);}return ji;case'Video360':case'Map':return jh['get']('overlays')||[];case'Model3D':return jh['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jl,jm){var jn=this['getOverlays'](jl);for(var jo=0x0,jp=jn['length'];jo<jp;++jo){var jq=jn[jo];var jr=jq['get']('data');if(jr!=undefined&&jr['label']==jm){return jq;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(js,jt,ju){var jv=[];var jw=this['getOverlays'](js);var jx=this['getOverlaysByTags'](jt,ju);for(var jy=0x0,jz=jw['length'];jy<jz;++jy){var jA=jw[jy];if(jx['indexOf'](jA)!=-0x1)jv['push'](jA);}return jv;};TDV['Tour']['Script']['getPixels']=function(jB){var jC=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jB);if(jC==undefined){return 0x0;}var jD=parseFloat(jC[0x1]);var jE=jC[0x4];var jF=this['rootPlayer']['get']('actualWidth')/0x64;var jG=this['rootPlayer']['get']('actualHeight')/0x64;switch(jE){case'vw':return jD*jF;case'vh':return jD*jG;case'vmin':return jD*Math['min'](jF,jG);case'vmax':return jD*Math['max'](jF,jG);default:return jD;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jH,jI){var jJ=[];var jK=this['getByClassName']('PlayList');for(var jL=0x0,jM=jK['length'];jL<jM;++jL){var jN=jK[jL];if(jI&&jN['get']('selectedIndex')==-0x1)continue;var jO=this['getPlayListItemByMedia'](jN,jH);if(jO!=undefined&&jO['get']('player')!=undefined)jJ['push'](jN);}return jJ;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jP){var jQ=this['getByClassName']('PlayList');var jR=function(jT){var jU=jT['get']('items');for(var jV=jU['length']-0x1;jV>=0x0;--jV){var jW=jU[jV];var jX=jW['get']('player');if(jX!==undefined&&jX['get']('viewerArea')==jP)return!![];}return![];};for(var jS=jQ['length']-0x1;jS>=0x0;--jS){if(!jR(jQ[jS]))jQ['splice'](jS,0x1);}return jQ;};TDV['Tour']['Script']['getPlayListWithItem']=function(jY){var jZ=this['getByClassName']('PlayList');for(var k0=jZ['length']-0x1;k0>=0x0;--k0){var k1=jZ[k0];var k2=k1['get']('items');for(var k3=k2['length']-0x1;k3>=0x0;--k3){var k4=k2[k3];if(k4==jY)return k1;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(k5,k6){var k7=this['getPlayListsWithMedia'](k5,k6);return k7['length']>0x0?k7[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(k8,k9){var ka=k8['get']('items');for(var kb=0x0,kc=ka['length'];kb<kc;++kb){var kd=ka[kb];if(kd['get']('media')==k9)return kd;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(ke,kf){var kg=this['getPlayListItemByMedia'](ke,kf);return kg?ke['get']('items')['indexOf'](kg):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kh,ki){var kj=function(){switch(kh['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kj!=undefined){var kk=this['getByClassName'](kj);for(var kl=kk['length']-0x1;kl>=0x0;--kl){var km=kk[kl];if(km['get']('media')!=kh||ki!=undefined&&km['get']('player')!=ki){kk['splice'](kl,0x1);}}return kk;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kn){var ko=this['get']('data')['history'][kn['get']('id')];if(ko!=undefined){ko['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kp){var kq=this['get']('data')['history'][kp['get']('id')];if(kq!=undefined){kq['forward']();}};TDV['Tour']['Script']['init']=function(){var kr=this['get']('data')['history'];var ks=function(kB){var kC=kB['source'];var kD=kC['get']('selectedIndex');if(kD<0x0)return;var kE=kC['get']('id');if(!kr['hasOwnProperty'](kE))kr[kE]=new TDV['Tour']['HistoryData'](kC);kr[kE]['add'](kD);};var kt=this['getByClassName']('PlayList');for(var kv=0x0,kw=kt['length'];kv<kw;++kv){var kx=kt[kv];kx['bind']('change',ks,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var ky=this['getByClassName']('ThumbnailList');ky=ky['concat'](this['getByClassName']('ThumbnailGrid'));ky=ky['concat'](this['getByClassName']('DropDown'));function kF(kG){var kH=kG['source']['get']('playList');var kI=kH['get']('selectedIndex');if(kI>=0x0){this['skip3DTransitionOnce'](kH['get']('items')[kI]['get']('player'));}}for(var kv=0x0,kz=ky['length'];kv<kz;++kv){var kA=ky[kv];kA['bind']('change',kF,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kJ,kK,kL){if(window['dataLayer']){window['dataLayer']['push']({'event':kK,'label':kL,'category':kJ});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kJ,kK,kL);}if(window['gtag']){window['gtag']('event',kK,{'category':kJ,'label':kL});}};TDV['Tour']['Script']['initAnalytics']=function(){var kN=this['getByClassName']('Panorama');kN=kN['concat'](this['getByClassName']('Video360'));kN=kN['concat'](this['getByClassName']('Map'));kN=kN['concat'](this['getByClassName']('Model3D'));for(var kQ=0x0,kT=kN['length'];kQ<kT;++kQ){var kU=kN[kQ];var kW=kU['get']('data');var kX=kW?kW['label']:'';var kY=this['getOverlays'](kU);for(var kZ=0x0,l0=kY['length'];kZ<l0;++kZ){var l1=kY[kZ];var l2=l1['get']('data')!=undefined?kX+'\x20-\x20'+l1['get']('data')['label']:kX;switch(l1['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var l3=l1['get']('areas');for(var l4=0x0;l4<l3['length'];++l4){l3[l4]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l2),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':l1['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',l2),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':l1['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l2),this,![]);l1['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',l2),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':l1['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l2),this,![]);break;}}}var l5=this['getByClassName']('UIComponent');for(var kQ=0x0,kT=l5['length'];kQ<kT;++kQ){var l6=l5[kQ];var l7=l6['getBindings']('click');if(l7['length']>0x0){var l8=l6['get']('data')['name'];l6['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',l8),this,![]);}}var l9=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var la={};for(var kQ=0x0,kT=l9['length'];kQ<kT;++kQ){var lb=l9[kQ];var kN=lb['get']('media');if(!(kN['get']('id')in la)){var kW=kN['get']('data');lb['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',kW?kW['label']:undefined),this,![]);la[kN['get']('id')]=lb;}}if(TDV['Remote']!=undefined){var lc=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(ld){lc=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+ld);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(le){var lf=new Date();lf['setTime'](Date['now']()-lc);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+le+'\x20Duration:\x20'+lf['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lg,lh,li){var lj={"timeout":{"window":{"shadowVerticalLength":0,"horizontalAlign":"center","paddingBottom":55,"gap":15,"backgroundColor":"#ffffff","button":{"paddingLeft":25,"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingTop":12,"verticalAlign":"middle","paddingBottom":12,"fontWeight":"bold","paddingRight":25},"shadowColor":"#000000","shadow":true,"shadowHorizontalLength":0,"shadowOpacity":0.3,"paddingLeft":80,"paddingTop":45,"shadowSpread":4,"title":{"fontFamily":"Arial","fontWeight":"bold","fontSize":40,"paddingBottom":20,"textAlign":"center","fontColor":"#000000"},"shadowBlurRadius":4,"buttonsContainer":{"horizontalAlign":"center","gap":10,"width":"100%"},"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"paddingRight":80},"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"}},"score":{"window":{"title":{"paddingTop":50,"fontFamily":"Arial","fontWeight":"bold","fontSize":50,"paddingBottom":15,"textAlign":"center","fontColor":"#000000"},"minWidth":500,"horizontalAlign":"center","paddingBottom":20,"shadowHorizontalLength":0,"buttonsContainer":{"paddingLeft":100,"paddingTop":35,"horizontalAlign":"center","gap":8,"verticalAlign":"middle","button":{"paddingLeft":25,"fontColor":"#ffffff","horizontalAlign":"center","fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingTop":12,"verticalAlign":"middle","paddingBottom":12,"fontWeight":"bold","paddingRight":25},"paddingBottom":50,"width":"100%","paddingRight":100},"backgroundColor":"#ffffff","calification":{"paddingLeft":100,"paddingTop":15,"fontFamily":"Arial","fontWeight":"bold","fontSize":30,"verticalAlign":"middle","paddingBottom":10,"textAlign":"center","width":"100%","fontColor":"#009fe3","paddingRight":100},"shadowColor":"#000000","shadow":true,"stats":{"borderColor":"#009fe3","minWidth":150,"horizontalAlign":"center","gap":0,"mainValue":{"fontWeight":"bold","fontFamily":"Arial","fontColor":"#000000","fontSize":40},"borderRadius":75,"label":{"fontWeight":"normal","fontFamily":"Arial","fontColor":"#000000","fontSize":15},"verticalAlign":"middle","height":150,"layout":"vertical","title":{"paddingLeft":5,"paddingTop":10,"fontFamily":"Arial","fontWeight":"normal","fontSize":20,"fontColor":"#000000","paddingRight":5},"secondaryValue":{"paddingLeft":5,"fontWeight":"bold","fontFamily":"Arial","fontColor":"#000000","fontSize":20},"borderSize":1},"shadowOpacity":0.3,"paddingLeft":20,"paddingTop":20,"shadowVerticalLength":0,"maxWidth":1500,"content":{"width":"100%","horizontalAlign":"center"},"closeButton":{"iconWidth":18,"height":45,"backgroundColor":"#009fe3","iconColor":"#ffffff","iconHeight":18,"width":45,"iconLineWidth":2},"shadowSpread":4,"shadowBlurRadius":4,"statsContainer":{"paddingLeft":100,"paddingTop":15,"horizontalAlign":"center","contentOpaque":true,"gap":20,"verticalAlign":"middle","overflow":"scroll","paddingBottom":15,"paddingRight":100},"timeContainer":{"paddingLeft":100,"paddingTop":10,"horizontalAlign":"center","gap":5,"verticalAlign":"middle","paddingBottom":15,"width":"100%","paddingRight":100},"description":{"paddingLeft":100,"paddingTop":15,"fontFamily":"Arial","fontWeight":"normal","fontSize":16,"paddingBottom":15,"textAlign":"center","fontColor":"#000000","paddingRight":100},"paddingRight":20},"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"}},"question":{"window":{"mediaContainer":{"buttonNext":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","height":37,"width":25},"height":"100%","viewerArea":{"playbackBarHeadShadowSpread":2,"playbackBarBackgroundColor":"#000000","playbackBarHeight":6,"backgroundColor":"#e6e6e6","playbackBarProgressOpacity":0.5,"playbackBarRight":0,"playbackBarHeadBorderSize":3,"playbackBarProgressBackgroundColor":"#3399ff","playbackBarHeadOpacity":1,"playbackBarBorderSize":0,"playbackBarHeadShadowColor":"#000000","playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadWidth":14,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarHeadShadow":true,"playbackBarBottom":5,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadHeight":14,"playbackBarLeft":0,"playbackBarHeadShadowBlurRadius":2,"playbackBarBorderRadius":0,"playbackBarHeadShadowVerticalLength":0,"backgroundOpacity":1,"playbackBarBackgroundOpacity":0.5,"playbackBarHeadBorderRadius":7},"width":"70%","buttonPrevious":{"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","height":37,"width":25}},"backgroundColor":"#ffffff","shadowColor":"#000000","width":"60%","paddingLeft":20,"paddingTop":20,"height":"60%","shadowOpacity":0.3,"shadowBlurRadius":4,"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"backgroundColor":"#000000","horizontalAlign":"center","fontFamily":"Arial","fontWeight":"bold","borderRadius":3,"fontSize":18,"verticalAlign":"middle","paddingLeft":25,"paddingTop":10,"fontColor":"#ffffff","paddingBottom":10,"backgroundOpacity":0.7,"paddingRight":25}},"paddingRight":20,"minWidth":500,"horizontalAlign":"center","paddingBottom":20,"shadowHorizontalLength":0,"shadowVerticalLength":0,"shadow":true,"borderRadius":5,"optionsContainer":{"height":"100%","contentOpaque":true,"gap":10,"width":"30%","overflow":"scroll"},"closeButton":{"iconWidth":18,"height":45,"backgroundColor":"#009FE3","iconColor":"#FFFFFF","iconHeight":18,"width":45,"iconLineWidth":2},"bodyContainer":{"paddingLeft":30,"height":"100%","gap":35,"paddingBottom":30,"layout":"horizontal","width":"100%","paddingRight":30},"shadowSpread":4,"option":{"gap":10,"label":{"backgroundColor":"#000000","horizontalAlign":"center","pressedBackgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","incorrect":{"backgroundColor":"#ed1c24","horizontalAlign":"center","pressedBackgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","borderRadius":19,"width":38,"fontSize":18,"verticalAlign":"middle","height":38,"fontColor":"#ffffff","backgroundOpacity":1},"borderRadius":19,"width":38,"fontSize":18,"verticalAlign":"middle","height":38,"correct":{"backgroundColor":"#39b54a","horizontalAlign":"center","pressedBackgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","borderRadius":19,"width":38,"fontSize":18,"verticalAlign":"middle","height":38,"fontColor":"#ffffff","backgroundOpacity":1},"fontColor":"#ffffff","backgroundOpacity":0.2},"text":{"selected":{"paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontColor":"#000000","fontSize":18},"paddingTop":9,"fontFamily":"Arial","fontColor":"#404040","textAlign":"left","fontSize":18,"verticalAlign":"middle"}},"title":{"paddingLeft":50,"paddingTop":25,"fontFamily":"Arial","fontWeight":"bold","fontSize":20,"paddingBottom":40,"textAlign":"center","fontColor":"#000000","paddingRight":50},"backgroundOpacity":1},"veil":{"backgroundOpacity":0.3,"backgroundColor":"#000000"}}};var lk=this['get']('data');var ll=lk['createQuizConfig']['call'](this);lw['call'](this,ll);ll['playList']=lg;ll['player']=this;ll['theme']='theme'in ll?this['mixObject'](lj,ll['theme']):lj;if(ll['questions']){lv['call'](this,ll['questions']);for(var lm=0x0;lm<ll['questions']['length'];++lm){var ln=ll['questions'][lm];lv['call'](this,ln['options']);}}if(ll['objectives']){lv['call'](this,ll['objectives']);}if(ll['califications']){lv['call'](this,ll['califications']);}if(ll['score']){this[ll['score']['id']]=ll['score'];}if(ll['question']){this[ll['question']['id']]=ll['question'];}if(ll['timeout']){this[ll['timeout']['id']]=ll['timeout'];}var lo=ll['data']&&ll['data']['titlesScale']?ll['data']['titlesScale']:0x1;var lp=ll['data']&&ll['data']['bodyScale']?ll['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lq=this['mixObject'](ll['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lp,'paddingLeft':0xa,'paddingRight':0xa}}}});ll['theme']=lq;}var lr=document['getElementById']('metaViewport');var ls=lr?/initial-scale=(\d+(\.\d+)?)/['exec'](lr['getAttribute']('content')):undefined;var lt=ls?ls[0x1]:0x1;lk['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lt,'maxHeight':0x258/lt,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lk['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lo,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lu=new TDV['Quiz'](ll);lu['setMaxListeners'](0x32);if(li===!![]){lu['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lu['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lu['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lu['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lu['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)lu['finish']();}['bind'](this));}if(lh===!![]){lu['start']();}lk['quiz']=lu;lk['quizConfig']=ll;function lv(lx){for(var ly=0x0;ly<lx['length'];++ly){var lz=lx[ly];if('id'in lz)this[lz['id']]=lz;}}function lw(lA){for(var lB in lA){var lC=lA[lB];if(typeof lC=='object'&&lC!==null)lw['call'](this,lC);else if(typeof lC=='string'&&lC['startsWith']('this.'))lA[lB]=_getObject(this,lC);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lD){var lE=this['get']('data')['quiz'];var lF=this['get']('data')['quizConfig'];var lG=lF['objectives'];var lH=0x0;for(var lI=0x0,lJ=lG['length'];lI<lJ;++lI){var lK=lG[lI];lH+=lE['getObjective'](lK['id'],lD);}return lH;};TDV['Tour']['Script']['_initSplitViewer']=function(lL){function lM(){var m7=lL['get']('actualWidth');lX['get']('children')[0x0]['set']('width',m7);lY['get']('children')[0x0]['set']('width',m7);var m8=m1['get']('left');var m9=typeof m8=='string'?lN(m8):m8;m9+=m1['get']('actualWidth')*0.5;lX['set']('width',lO(m9));lY['set']('width',lO(m7-m9));}function lN(ma){return parseFloat(ma['replace']('%',''))/0x64*lL['get']('actualWidth');}function lO(mb){return mb/lL['get']('actualWidth')*0x64+'%';}function lP(mc){lQ(mc['source']);}function lQ(md){var me=md==m3?m2:m3;if(m4&&md!=m4||!md||!me)return;var mf=me['get']('camera')['get']('initialPosition')['get']('yaw')-md['get']('camera')['get']('initialPosition')['get']('yaw');me['setPosition'](md['get']('yaw')+mf,md['get']('pitch'),md['get']('roll'),md['get']('hfov'));}function lR(mg){m4=mg['source'];}function lS(mh){lT(mh['source']);}function lT(mi){var mj=mi['get']('viewerArea');if(mj==lZ){if(m2){m2['get']('camera')['set']('hoverFactor',m5);}m2=mi;m4=m2;if(m2){m5=m2['get']('camera')['get']('hoverFactor');m2['get']('camera')['set']('hoverFactor',0x0);}}else if(mj==m0){if(m3){m3['get']('camera')['set']('hoverFactor',m6);}m3=mi;m4=m2;if(m3){m6=m3['get']('camera')['get']('hoverFactor');m3['get']('camera')['set']('hoverFactor',0x0);}}lQ(mi);}function lU(mk){var ml=this['getCurrentPlayers']();var mm=ml['length'];while(mm-->0x0){var mo=ml[mm];if(mo['get']('viewerArea')!=mk){ml['splice'](mm,0x1);}}for(mm=0x0;mm<ml['length'];++mm){var mo=ml[mm];mo['bind']('preloadMediaShow',lS,this);mo['bind']('cameraPositionChange',lP,this);mo['bind']('userInteractionStart',lR,this);if(mo['get']('panorama'))lT(mo);}return ml;}function lV(mp){lT(this['getActivePlayerWithViewer'](mp['source']));lQ(m4);}var lW=lL['get']('children');var lX=lW[0x0];var lY=lW[0x1];var lZ=lX['get']('children')[0x0];var m0=lY['get']('children')[0x0];var m1=lW[0x2];var m2,m3,m4;var m5,m6;lU['call'](this,lZ);lU['call'](this,m0);lZ['bind']('mouseDown',lV,this);m0['bind']('mouseDown',lV,this);lL['bind']('resize',function(){m1['set']('left',(lL['get']('actualWidth')-m1['get']('actualWidth'))*0.5);lM();},this);m1['bind']('mouseDown',function(mq){var mr=mq['pageX'];var ms=function(mt){var mu=mt['pageX'];var mv=mr-mu;var mw=lL['get']('actualWidth');var mx=m1['get']('left');var my=(typeof mx=='string'?lN(mx):mx)-mv;if(my<0x0){mu-=my;my=0x0;}else if(my+m1['get']('actualWidth')>=mw){mu-=my-(mw-m1['get']('actualWidth'));my=mw-m1['get']('actualWidth');}m1['set']('left',my);lM();mr=mu;};this['bind']('mouseMove',ms,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',ms,this);},this);},this);lM();};TDV['Tour']['Script']['_initTwinsViewer']=function(mz){function mA(){var mV=mz['get']('actualWidth');mL['get']('children')[0x0]['set']('width',mV);mM['get']('children')[0x0]['set']('width',mV);var mW=mP['get']('left');var mX=typeof mW=='string'?mB(mW):mW;mX+=mP['get']('actualWidth')*0.5;mL['set']('width',mC(mX));mM['set']('width',mC(mV-mX));}function mB(mY){return parseFloat(mY['replace']('%',''))/0x64*mz['get']('actualWidth');}function mC(mZ){return mZ/mz['get']('actualWidth')*0x64+'%';}function mD(n0){mE(n0['source']);}function mE(n1){var n2=n1==mR?mQ:mR;if(mS&&n1!=mS||!n1||!n2)return;var n3=n2['get']('camera')['get']('initialPosition')['get']('yaw')-n1['get']('camera')['get']('initialPosition')['get']('yaw');n2['setPosition'](n1['get']('yaw')+n3,n1['get']('pitch'),n1['get']('roll'),n1['get']('hfov'));}function mF(n4){mS=n4['source'];}function mG(n5){mH(n5['source']);}function mH(n6){var n7=n6['get']('viewerArea');if(n7==mN){if(mQ){mQ['get']('camera')['set']('hoverFactor',mT);}mQ=n6;mS=mQ;if(mQ){mT=mQ['get']('camera')['get']('hoverFactor');mQ['get']('camera')['set']('hoverFactor',0x0);}}else if(n7==mO){if(mR){mR['get']('camera')['set']('hoverFactor',mU);}mR=n6;mS=mQ;if(mR){mU=mR['get']('camera')['get']('hoverFactor');mR['get']('camera')['set']('hoverFactor',0x0);}}mE(n6);}function mI(n8){var n9=this['getCurrentPlayers']();var na=n9['length'];while(na-->0x0){var nc=n9[na];if(nc['get']('viewerArea')!=n8){n9['splice'](na,0x1);}}for(na=0x0;na<n9['length'];++na){var nc=n9[na];nc['bind']('preloadMediaShow',mG,this);nc['bind']('cameraPositionChange',mD,this);nc['bind']('userInteractionStart',mF,this);if(nc['get']('panorama'))mH(nc);}return n9;}function mJ(nd){mH(this['getActivePlayerWithViewer'](nd['source']));mE(mS);}var mK=mz['get']('children');var mL=mK[0x0];var mM=mK[0x1];var mN=mL['get']('children')[0x0];var mO=mM['get']('children')[0x0];var mP=mK[0x2];var mQ,mR,mS;var mT,mU;mI['call'](this,mN);mI['call'](this,mO);mN['bind']('mouseDown',mJ,this);mO['bind']('mouseDown',mJ,this);mz['bind']('resize',function(){mP['set']('left',(mz['get']('actualWidth')-mP['get']('actualWidth'))*0.5);mA();},this);mA();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var ne=this['getByClassName']('PanoramaPlayer');return ne['length']>0x0&&ne[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nf){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nf['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(ng,nh){var ni='keepVisibility_'+ng['get']('id');var nj=this['getKey'](ni);if(nj==undefined&&nh){this['registerKey'](ni,nh);}else if(nj!=undefined&&!nh){this['unregisterKey'](ni);}};TDV['Tour']['Script']['_initItemWithComps']=function(nk,nl,nm,nn,no,np,nq,nr){var ns=nk['get']('items')[nl];var nt=ns['get']('media');var nu=nt['get']('loop')==undefined||nt['get']('loop');var nv=nr>0x0;var nw=this['rootPlayer'];var nx=function(nF){var nG=np?np['get']('class'):undefined;var nH=undefined;switch(nG){case'FadeInEffect':case'FadeOutEffect':nH=nw['createInstance'](nF?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nH=nw['createInstance'](nF?'SlideInEffect':'SlideOutEffect');break;}if(nH){nH['set']('duration',np['get']('duration'));nH['set']('easing',np['get']('easing'));if(nG['indexOf']('Slide')!=-0x1)nH['set'](nF?'from':'to',np['get'](np['get']('class')=='SlideInEffect'?'from':'to'));}return nH;};var ny=function(){for(var nI=0x0,nJ=nm['length'];nI<nJ;++nI){var nK=nm[nI];if(nr>0x0){this['setComponentVisibility'](nK,!no,0x0,nx(!no));}else{var nL='visibility_'+nK['get']('id');if(this['existsKey'](nL)){if(this['getKey'](nL))this['setComponentVisibility'](nK,!![],0x0,nx(!![]));else this['setComponentVisibility'](nK,![],0x0,nx(![]));this['unregisterKey'](nL);}}}ns['unbind']('end',ny,this);if(!nu)nt['unbind']('end',ny,this);};var nz=function(){ns['unbind']('stop',nz,this,!![]);ns['unbind']('stop',nz,this);ns['unbind']('begin',nz,this,!![]);ns['unbind']('begin',nz,this);for(var nM=0x0,nN=nm['length'];nM<nN;++nM){this['keepCompVisible'](nm[nM],![]);}};var nA=function(nO,nP,nQ){var nR=function(){var nS=function(nW,nX,nY){nw['setComponentVisibility'](nW,nX,nP,nY,nX?'showEffect':'hideEffect',![]);if(nQ>0x0){var nZ=nP+nQ+(nY!=undefined?nY['get']('duration'):0x0);nw['setComponentVisibility'](nW,!nX,nZ,nx(!nX),nX?'hideEffect':'showEffect',!![]);}};for(var nT=0x0,nU=nm['length'];nT<nU;++nT){var nV=nm[nT];if(no=='toggle'){if(!nV['get']('visible'))nS(nV,!![],nx(!![]));else nS(nV,![],nx(![]));}else{nS(nV,no,nx(no));}}ns['unbind'](nO,nR,this);if(nO=='end'&&!nu)nt['unbind'](nO,nR,this);};ns['bind'](nO,nR,this);if(nO=='end'&&!nu)nt['bind'](nO,nR,this);};if(nn=='begin'){for(var nB=0x0,nC=nm['length'];nB<nC;++nB){var nD=nm[nB];this['keepCompVisible'](nD,!![]);if(nv){var nE='visibility_'+nD['get']('id');this['registerKey'](nE,nD['get']('visible'));}}ns['bind']('stop',nz,this,!![]);ns['bind']('stop',nz,this);ns['bind']('begin',nz,this,!![]);ns['bind']('begin',nz,this);if(nv){ns['bind']('end',ny,this);if(!nu)nt['bind']('end',ny,this);}}else if(nn=='end'&&nr>0x0){nA('begin',nr,0x0);nr=0x0;}if(nn!=undefined)nA(nn,nq,nr);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(o0,o1,o2){var o3=o0['get']('selectedIndex');var o4=o0['get']('items')['length'];var o5=(o3+o1)%o4;while(o5<0x0){o5=o4+o5;}if(o3!=o5){if(o2){var o6=o0['get']('items')[o5];this['skip3DTransitionOnce'](o6['get']('player'));}o0['set']('selectedIndex',o5);}};TDV['Tour']['Script']['mixObject']=function(o7,o8){return this['assignObjRecursively'](o8,this['copyObjRecursively'](o7));};TDV['Tour']['Script']['downloadFile']=function(o9){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oa=document['createElement']('a');oa['href']=o9;oa['setAttribute']('target','_blank');if(oa['download']!==undefined){var ob=o9['substring'](o9['lastIndexOf']('/')+0x1,o9['length']);oa['download']=ob;}if(document['createEvent']){var oc=document['createEvent']('MouseEvents');oc['initEvent']('click',!![],!![]);oa['dispatchEvent'](oc);return;}}window['open'](o9,'_blank');};TDV['Tour']['Script']['openLink']=function(od,oe){if(!od||od==location['href']){return;}if(!oe)oe='_blank';if(oe=='_top'||oe=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var of=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(of&&oe=='_blank'){if(od['startsWith']('files/')){od='/'+od;}if(od['startsWith']('//')){od='https:'+od;}else if(od['startsWith']('/')){var og=window['location']['href']['split']('/');og['pop']();od=og['join']('/')+od;}var oh=od['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oh)==-0x1||od['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oi=window['require']('electron')['shell'];oi['openExternal'](od);}else{window['open'](od,oe);}}else if(of&&(oe=='_top'||oe=='_self')){window['location']=od;}else{var oj=this['get']('data')['tour'];if(oj['isMobileApp']()&&oj['isIOS']())od='blank:'+od;var ok=window['open'](od,oe);ok['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(ol,om){var on=ol['get']('media');var oo=_findLocationWithPanorama['call'](this,on);if(!oo){om['call'](this);return;}var op=oo['get']('model');var oq=ol['get']('player')['get']('viewerArea');var os=this['getActivePlayersWithViewer'](oq);var ou=os['length']==0x1?os['find'](function(oB){return this['getMediaFromPlayer'](oB)==op;}['bind'](this)):undefined;if(ou){om['call'](this);}else{var os=_getPlayersWithViewer['call'](this,oq);var ou=os['find'](function(oC){return oC['get']('class')=='Model3DPlayer';});var ov,ow;if(!ou){ou=this['createInstance']('Model3DPlayer');ou['set']('viewerArea',oq);}else{var ox=this['getByClassName']('Model3DPlayListItem');ov=ox['find'](function(oD){return oD['get']('player')==ou;}['bind'](this));}if(!ov){ov=this['createInstance']('Model3DPlayListItem');ov['set']('player',ou);_initModel3DItem['call'](this,ov);}ov['set']('media',op);var oy=oo['get']('forceModelLoading');oo['set']('forceModelLoading',!![]);var oz=function(){ov['unbind']('begin',oz,this);om['call'](this);};var oA=function(){ol['unbind']('begin',oA,this);oo['set']('forceModelLoading',oy);if(ow)this['disposeInstance'](ow);};ol['bind']('begin',oA,this);if(ov['get']('state')=='playing')oz['call'](this);else{ov['bind']('begin',oz,this);ow=this['createInstance']('PlayList');ow['set']('items',[ov]);ow['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oE){var oF=this['getCurrentPlayers']();var oG=oF['length'];while(oG-->0x0){var oH=oF[oG];if(oH['get']('state')=='playing'||oH['get']('data')&&oH['get']('data')['playing']||oH['get']('viewerArea')&&oH['get']('viewerArea')['get']('id')==this['getMainViewer']()||oH['get']('camera')&&oH['get']('camera')['get']('idleSequence')&&oH['get']('camera')['get']('timeToIdle')>0x0&&oH['get']('state')=='playing'||oH['get']('class')=='Model3DPlayer'&&oH['get']('model')&&oH['get']('model')['get']('camera')['get']('state')=='playing'){var oI=this['getMediaFromPlayer'](oH);if(oE&&oI&&oI['get']('class')!='Video360'&&'pauseCamera'in oH){oH['pauseCamera']();}else{oH['pause']();}}else{oF['splice'](oG,0x1);}}return oF;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oJ,oK,oL){var oM=function(){if(oJ['get']('selectedIndex')!=oK){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oL,!![]);this['executeFunctionWhenChange'](oJ,oK,oM,oM);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oN,oO){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oP=this['getByClassName']('VideoPanoramaOverlay');oP=oP['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var oR=oP['length']-0x1;oR>=0x0;--oR){var oS=oP[oR];if(oS['get']('video')['get']('hasAudio')==![])oP['splice'](oR,0x1);}var oT=this['getByClassName']('Audio')['concat'](oP);var oU={};if(window['currentGlobalAudios']!=undefined)oT=oT['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(oY){if(!oY['allowResume'])oU[oY['audio']['get']('id')]=oY['audio'];return oY['audio'];}));var oV=[];for(var oR=0x0,oW=oT['length'];oR<oW;++oR){var oX=oT[oR];if(oX&&oX['get']('state')=='playing'&&(oN==undefined||oN['indexOf'](oX)==-0x1)){if(oX['get']('id')in oU){oX['stop']();}else{oX['pause']();oV['push'](oX);}}}if(oO||oV['length']>0x0)window['pausedAudiosLIFO']['push'](oV);return oV;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var oZ=window['pausedAudiosLIFO']['pop']();if(!oZ)return;for(var p0=0x0,p1=oZ['length'];p0<p1;++p0){var p2=oZ[p0];if(p2['get']('state')=='paused')p2['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(p3){var p4=window['currentGlobalAudios'];if(p4){var p5=p4[p3['get']('id')];if(p5)p3=p5['audio'];}if(p3['get']('state')=='playing')p3['pause']();};TDV['Tour']['Script']['playAudioList']=function(p6,p7){if(p6['length']==0x0)return;if(p6['length']==0x1&&p7){var p8=p6[0x0];p8['set']('loop',!![]);this['playGlobalAudio'](p8,!![],null,!![]);}else{var p9=-0x1;var pa;var pb=this['playGlobalAudio'];var pc=function(){if(++p9>=p6['length']){if(!p7)return;p9=0x0;}pa=p6[p9];pb(pa,!![],pc,!![]);};pc();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pd,pe,pf,pg){var ph=this['getActiveMediaWithViewer'](this['getMainViewer']());var pi=this['getFirstPlayListWithMedia'](ph,!![]);var pj=this['getPlayListItemByMedia'](pi,ph);var pk=pi['get']('items')['indexOf'](pj);return this['playGlobalAudioWhilePlay'](pi,pk,pd,pe,pf,pg);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pl,pm,pn,po,pp,pq){var pr=function(pA){if(pA['data']['previousSelectedIndex']==pm){this['stopGlobalAudio'](pn);if(pv){var pB=pu['get']('media');var pC=pB['get']('audios');pC['splice'](pC['indexOf'](pn),0x1);pB['set']('audios',pC);}pl['unbind']('change',pr,this);if(pp)pp();}};var pt=window['currentGlobalAudios'];if(pt&&pn['get']('id')in pt){pn=pt[pn['get']('id')]['audio'];if(pn['get']('state')!='playing'){pn['play']();}return pn;}pl['bind']('change',pr,this);var pu=pl['get']('items')[pm];var pv=pu['get']('class')=='PanoramaPlayListItem';if(pv){var pw=pu['get']('media');var pt=(pw['get']('audios')||[])['slice']();if(pn['get']('class')=='MediaAudio'){var px=this['rootPlayer']['createInstance']('PanoramaAudio');px['set']('autoplay',![]);px['set']('audio',pn['get']('audio'));px['set']('loop',pn['get']('loop'));px['set']('id',pn['get']('id'));this['cloneBindings'](pn,px,'start');this['cloneBindings'](pn,px,'end');this['cloneBindings'](pn,px,'stateChange');pn=px;}pt['push'](pn);pw['set']('audios',pt);}var py=this['playGlobalAudio'](pn,po,function(){pl['unbind']('change',pr,this);if(pp)pp['call'](this);});if(pq===!![]){var pz=function(){if(py['get']('state')=='playing'){this['pauseGlobalAudios']([py],!![]);}else if(py['get']('state')=='stopped'){this['resumeGlobalAudios']();py['unbind']('stateChange',pz,this);}};py['bind']('stateChange',pz,this);}return py;};TDV['Tour']['Script']['playGlobalAudio']=function(pD,pE,pF,pG){var pH=function(){pD['unbind']('end',pH,this);this['stopGlobalAudio'](pD);if(pF)pF['call'](this);};pD=this['getGlobalAudio'](pD);var pI=window['currentGlobalAudios'];if(!pI){pI=window['currentGlobalAudios']={};}pI[pD['get']('id')]={'audio':pD,'asBackground':pG||![],'allowResume':pE};if(pD['get']('state')=='playing'){return pD;}if(!pD['get']('loop')){pD['bind']('end',pH,this);}pD['play']();return pD;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pJ){var pK=-0x1;this['bind']('userInteraction',pL['bind'](this),this);pL();function pL(){if(pK!=-0x1)clearTimeout(pK);pK=setTimeout(function(){var pM=this['get']('data')['tour'];if(pM)pM['reload']();}['bind'](this),pJ*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pN,pO){for(var pP=0x0;pP<pN['length'];++pP){var pQ=pN[pP];var pR=this['getMediaFromPlayer'](pQ);if(!pR)continue;if(pO&&pR['get']('class')!='Video360'&&'pauseCamera'in pQ){pQ['resumeCamera']();}else if(pQ['get']('state')!='playing'){var pS=pQ['get']('data');if(!pS){pS={};pQ['set']('data',pS);}pS['playing']=!![];var pT=function(){if(pQ['get']('state')=='playing'){delete pS['playing'];pQ['unbind']('stateChange',pT,this);}};pQ['bind']('stateChange',pT,this);pQ['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(pU){var pV=window['currentGlobalAudios'];var pW=this;if(pV){Object['keys'](pV)['forEach'](function(pX){var pY=pV[pX];if(!pU||pU&&!pY['asBackground']){pW['stopGlobalAudio'](pY['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(pZ){var q0=window['currentGlobalAudios'];if(q0){var q1=q0[pZ['get']('id')];if(q1){pZ=q1['audio'];delete q0[pZ['get']('id')];if(Object['keys'](q0)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(pZ)pZ['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(q2,q3){var q4=this['getCurrentPlayerWithMedia'](q3);if(q4!=undefined){var q5=q2['get']('initialPosition');q5['set']('yaw',q4['get']('yaw'));q5['set']('pitch',q4['get']('pitch'));q5['set']('hfov',q4['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(q6,q7,q8,q9,qa,qb){var qc=this['getKey']('keepVisibility_'+q6['get']('id'));if(qc)return;this['unregisterKey']('visibility_'+q6['get']('id'));var qd=function(){if(qa){q6['set'](qa,q9);}q6['set']('visible',q7);if(q6['get']('class')=='ViewerArea'){try{if(q7)q6['restart']();else if(q6['get']('playbackState')=='playing')q6['pause']();}catch(qi){};}};var qe='effectTimeout_'+q6['get']('id');if(!qb&&window['hasOwnProperty'](qe)){var qg=window[qe];if(qg instanceof Array){for(var qh=0x0;qh<qg['length'];qh++){clearTimeout(qg[qh]);}}else{clearTimeout(qg);}delete window[qe];}else if(q7==q6['get']('visible')&&!qb)return;if(q8&&q8>0x0){var qg=setTimeout(function(){if(window[qe]instanceof Array){var qj=window[qe];var qk=qj['indexOf'](qg);qj['splice'](qk,0x1);if(qj['length']==0x0){delete window[qe];}}else{delete window[qe];}qd();},q8);if(window['hasOwnProperty'](qe)){window[qe]=[window[qe],qg];}else{window[qe]=qg;}}else{qd();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(ql,qm,qn,qo){ql['set']('yaw',qm);ql['set']('pitch',qn);ql['set']('maximumAngle',qo);};TDV['Tour']['Script']['setLocale']=function(qp){this['stopTextToSpeech']();var qq=this['get']('data')['localeManager'];if(qq)this['get']('data')['localeManager']['setLocale'](qp);else{this['get']('data')['defaultLocale']=qp;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(qr,qs,qt){var qu=function(){if(qr['get']('selectedIndex')==qs){var qv=qr['get']('items')[qt];this['skip3DTransitionOnce'](qv['get']('player'));qr['set']('selectedIndex',qt);}};this['executeFunctionWhenChange'](qr,qs,qu);};TDV['Tour']['Script']['setMapLocation']=function(qw,qx){var qy=function(){qw['unbind']('stop',qy,this);qz['set']('mapPlayer',null);};qw['bind']('stop',qy,this);var qz=qw['get']('player');qz['set']('mapPlayer',qx);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qA){var qB=undefined;if(qA>=0x0&&qA<this['mainPlayList']['get']('items')['length']){qB=this['mainPlayList']['get']('items')[qA];var qC=qB['get']('media');var qD=qC['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qC):null;if(qD){this['startPanoramaWithModel']['call'](this,qB,function(){this['mainPlayList']['set']('selectedIndex',qA);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qA);}}return qB;};TDV['Tour']['Script']['setMainMediaByName']=function(qE){var qF=this['getMainViewer']();var qG=this['_getPlayListsWithViewer'](qF);for(var qH=0x0,qI=qG['length'];qH<qI;++qH){var qJ=qG[qH];var qK=qJ['get']('items');for(var qL=0x0,qM=qK['length'];qL<qM;++qL){var qN=qK[qL];var qO=qN['get']('media')['get']('data');if(qO!==undefined&&qO['label']==qE&&qN['get']('player')['get']('viewerArea')==qF){qJ['set']('selectedIndex',qL);return qN;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qP,qQ,qR,qS,qT,qU){if(qP['length']==0x0)return;var qV,qW;var qX=this['getMainViewer']();if(qR&&!(qR===!![])){var qY=this['getPlayListsWithMedia'](qR);for(var qZ=0x0;qZ<qY['length'];++qZ){var r0=qY[qZ];var r2=this['getPlayListItemByMedia'](r0,qR);if(r2&&r2['get']('player')&&r2['get']('player')['get']('viewerArea')==qX){qV=r0;qW=qV['get']('items')['indexOf'](r2);break;}}if(!qV&&qY['length']>0x0){qV=qY[0x0];qW=this['getPlayListItemIndexByMedia'](qV,qR);}if(!qV)qR=!![];}if(qR===!![]){var r3=this['getActiveMediaWithViewer'](qX);if(r3){qV=this['getFirstPlayListWithMedia'](r3,!![]);var r2=this['getPlayListItemByMedia'](qV,r3);qW=qV['get']('items')['indexOf'](r2);}else{qR=null;}}var r4=[];var r5=function(){var rd=r4['concat']();var re=![];var rf=function(ri){var rj=ri['source']['get']('state');if(rj=='playing'){if(!re){re=!![];this['pauseGlobalAudios'](r4,!![]);}}else if(rj=='stopped'){rd['splice'](rd['indexOf'](ri['source']),0x1);if(rd['length']==0x0){this['resumeGlobalAudios']();}ri['source']['unbind']('stateChange',rf,this);}}['bind'](this);for(var rg=0x0,rh=r4['length'];rg<rh;++rg){r4[rg]['bind']('stateChange',rf,this);}}['bind'](this);var r6=function(){for(var rk=0x0,rl=qP['length'];rk<rl;++rk){var rm=qP[rk];r4['push'](this['playGlobalAudio'](rm,qS));}if(qT)r5();}['bind'](this);var r7=function(){for(var rn=0x0,ro=qP['length'];rn<ro;++rn){var rp=qP[rn];r4['push'](this['playGlobalAudioWhilePlay'](qV,qW,rp,qS));}if(qT)r5();}['bind'](this);var r8=function(){for(var rq=0x0,rr=qP['length'];rq<rr;++rq){this['pauseGlobalAudio'](qP[rq]);}}['bind'](this);var r9=function(){for(var rs=0x0,rt=qP['length'];rs<rt;++rs){this['stopGlobalAudio'](qP[rs]);}}['bind'](this);var ra=function(){for(var ru=0x0,rv=qP['length'];ru<rv;++ru){if(this['getGlobalAudio'](qP[ru])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qQ=='playPause'||qQ=='playStop'){if(ra()){if(qQ=='playPause'){r8();}else if(qQ=='playStop'){r9();}}else{if(qT){if(qQ=='playStop'){this['stopGlobalAudios'](!![]);}}if(qV){r7();}else{r6();}}}else if(qQ=='play'||qQ=='forcePlay'){if(qQ=='forcePlay')r9();if(qV||qR===!![]){if(qU){var rb=qV?qV['get']('items')[qW]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rb&&rb['pauseCamera']){var rc=qP['concat']();endCallback=function(rw){rc['splice'](rc['indexOf'](rw),0x1);if(rc['length']==0x0)rb['resumeCamera']();}['bind'](this);rb['pauseCamera']();}}r7();}else{r6();}}else if(qQ=='stop'){r9();}else if(qQ=='pause'){r8();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rx,ry,rz,rA,rB,rC,rD){var rE=this['getAudioByTags'](rx,ry);this['executeAudioAction'](rE,rz,rA,rB,rC,rD);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rF,rG){var rH=rF['get']('items')[rG];var rI=rH['get']('player');var rJ=rI['get']('viewerArea');var rK=this['getByClassName']('PlayList');for(var rL of rK){if(rL==rF)continue;var rM=rL['get']('selectedIndex');if(rM!=-0x1){var rN=rL['get']('items')[rM];var rO=rN['get']('player');if(rO&&rO!=rI&&rO['get']('class')!='Model3DPlayer'&&rO['get']('viewerArea')==rJ)rL['set']('selectedIndex',-0x1);}}rF['set']('selectedIndex',rG);};TDV['Tour']['Script']['setMediaBehaviour']=function(rP,rQ,rR,rS){var rT=this;var rU=function(sh){if(sh['data']['state']=='stopped'&&rS){rY['call'](this,!![]);}};var rV=function(){s4['unbind']('begin',rV,rT);var si=s4['get']('media');var sj=si['get']('class');if(sj!='Panorama'&&sj!='Model3D'||si['get']('camera')!=undefined&&si['get']('camera')['get']('initialSequence')!=undefined){s5['bind']('stateChange',rU,rT);}};var rW=function(){var sk=s1['get']('selectedIndex');if(sk!=-0x1){s3=sk;rY['call'](this,![]);}};var rX=function(){rY['call'](this,![]);};var rY=function(sl){if(!s1)return;var sm=s4['get']('media');if((sm['get']('class')=='Video360'||sm['get']('class')=='Video')&&sm['get']('loop')==!![]&&!sl)return;rP['set']('selectedIndex',-0x1);if(sc&&sb!=-0x1){if(sc){if(sb>0x0&&sc['get']('movements')[sb-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sn=sd['get']('initialPosition');var so=sn['get']('yaw');var sp=sn['get']('pitch');var sq=sn['get']('hfov');var sr=sc['get']('movements')[sb-0x1];var ss=sr['get']('targetYaw');var st=sr['get']('targetPitch');var su=sr['get']('targetHfov');if(ss!==undefined)sn['set']('yaw',ss);if(st!==undefined)sn['set']('pitch',st);if(su!==undefined)sn['set']('hfov',su);var sv=function(sy){sn['set']('yaw',so);sn['set']('pitch',sp);sn['set']('hfov',sq);s7['unbind']('end',sv,this);};s7['bind']('end',sv,this);}sc['set']('movementIndex',sb);}}if(s5){s4['unbind']('begin',rV,this);s5['unbind']('stateChange',rU,this);for(var sw=0x0;sw<se['length'];++sw){se[sw]['unbind']('click',rX,this);}}if(sa){var sx=this['getMediaFromPlayer'](s5);if((s1==this['mainPlayList']||s1['get']('items')['length']>0x1)&&(sx==undefined||sx==s4['get']('media'))){s1['set']('selectedIndex',s3);}if(rP!=s1)s1['unbind']('change',rW,this);}else{s8['set']('visible',s9);}s1=undefined;};if(!rR){var rZ=rP['get']('selectedIndex');var s0=rZ!=-0x1?rP['get']('items')[rP['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(s0){rR=this['getMediaFromPlayer'](s0);}}var s1=undefined;if(rR){var s2=this['getPlayListsWithMedia'](rR,!![]);if(s2['indexOf'](rP)!=-0x1){s1=rP;}else if(s2['indexOf'](this['mainPlayList'])!=-0x1){s1=this['mainPlayList'];}else if(s2['length']>0x0){s1=s2[0x0];}}if(!s1){rP['set']('selectedIndex',rQ);return;}var s3=s1['get']('selectedIndex');var s4=rP['get']('items')[rQ];var s5=s4['get']('player');var s6=this['getMediaFromPlayer'](s5);if(rP['get']('selectedIndex')==rQ&&s6==s4['get']('media')||s3==-0x1){return;}if(rP['get']('selectedIndex')==rQ&&s6!=s4['get']('media'))rP['set']('selectedIndex',-0x1);var s7=s1['get']('items')[s3];var s8=s5['get']('viewerArea');var s9=s8['get']('visible');var sa=s8==s7['get']('player')['get']('viewerArea');if(sa){if(rP!=s1){s1['set']('selectedIndex',-0x1);s1['bind']('change',rW,this);}}else{s8['set']('visible',!![]);}var sb=-0x1;var sc=undefined;var sd=s7['get']('camera');if(sd){sc=sd['get']('initialSequence');if(sc){sb=sc['get']('movementIndex');}}rP['set']('selectedIndex',rQ);var se=[];var sf=function(sz){var sA=s5['get'](sz);if(sA==undefined)return;if(Array['isArray'](sA))se=se['concat'](sA);else se['push'](sA);};sf('buttonStop');for(var sg=0x0;sg<se['length'];++sg){se[sg]['bind']('click',rX,this);}s4['bind']('begin',rV,rT);this['executeFunctionWhenChange'](rP,rQ,rS?rX:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(sB,sC,sD,sE){var sF=function(){switch(sD){case'triggerClick':this['triggerOverlay'](sB,'click');break;case'stop':case'play':case'pause':sB[sD]();break;case'togglePlayPause':case'togglePlayStop':if(sB['get']('state')=='playing')sB[sD=='togglePlayPause'?'pause':'stop']();else sB['play']();break;}if(sE){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sK=sB['get']('id');window['overlaysDispatched'][sK]=!![];setTimeout(function(){delete window['overlaysDispatched'][sK];},0x3e8);}};if(sE&&window['overlaysDispatched']!=undefined&&sB['get']('id')in window['overlaysDispatched'])return;var sG=this['getFirstPlayListWithMedia'](sC,!![]);if(sG!=undefined){var sH=this['getPlayListItemByMedia'](sG,sC);var sI=sH['get']('player');if(sG['get']('items')['indexOf'](sH)!=sG['get']('selectedIndex')||this['isPanorama'](sH['get']('media'))&&sI['get']('rendererPanorama')!=sH['get']('media')){var sJ=function(sL){sH['unbind']('begin',sJ,this);sF['call'](this);};sH['bind']('begin',sJ,this);return;}}sF['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sM,sN,sO){var sP='overlayEffects';var sQ=undefined;var sR=this['getKey'](sP);if(!sR){sR={};this['registerKey'](sP,sR);}for(var sS=0x0,sT=sM['length'];sS<sT;++sS){var sU=sM[sS];if(!sU)continue;if(sO&&sO>0x0){sR[sU['get']('id')]=setTimeout(sV['bind'](this,sU),sO);}else{sV['call'](this,sU);}}function sV(sW){var sX=sW['get']('id');var sY=sR[sX];if(sY){clearTimeout(sY);delete sY[sX];}var sZ=sW['get']('class')=='PanoramaModel3DLocation'?sW['get']('data')['sprite']:sW;var t0=sN=='toggle'?!sZ['get']('enabled'):sN;sZ['set']('enabled',t0);if(sW['get']('class')=='PanoramaModel3DLocation')sW['get']('data')['enabled']=t0;var t2=sW['get']('data');if(t0&&t2&&'group'in t2){var t3=this['getOverlaysByGroupname'](t2['group']);for(var t4=0x0,t5=t3['length'];t4<t5;++t4){var t7=t3[t4];if(t7!=sW)t7['set']('enabled',!t0);}}if(!sQ)sQ=this['getByClassName']('AdjacentPanorama');for(var t8=0x0,t9=sQ['length'];t8<t9;++t8){var ta=sQ[t8];var t2=ta['get']('data');if(!t2)continue;var t7=this[t2['overlayID']];if(t7&&t7==sW){ta['set']('enabled',t7['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tb,tc,td,te,tf){var tg=td?this['getPanoramaOverlaysByTags'](td,tb,te):this['getOverlaysByTags'](tb,te);this['setOverlaysVisibility'](tg,tc,tf);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(th,ti,tj,tk,tl){var tm=this['getComponentsByTags'](th,tl);for(var tn=0x0,to=tm['length'];tn<to;++tn){var tp=tm[tn];if(ti=='toggle')tp['get']('visible')?tk(tp):tj(tp);else ti?tj(tp):tk(tp);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tq,tr,ts,tt,tu){var tv=tq['get']('selectedIndex');var tw=tq['get']('items');var tx=tr['get']('media');var ty=tx['get']('camera');if(ty['get']('state')=='playing')ty['stop']();if(tv>=0x0&&tw[tv]==tr&&tx['get']('isLoaded')){ty['set']('yaw',ty['get']('yaw')%0x168);this['createTween'](ty,ts,tt,tu)['play']();}else{this['startModel3DWithCameraSpot'](tr,ts);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(tz,tA,tB){var tC=tz['get']('selectedIndex');var tD=tz['get']('items');var tE=tA['get']('media');if(tD[tC]==tA&&tE['get']('isLoaded')){tB['play']();}else{var tF=tB['get']('movements');var tG={};if(tF['length']>0x0){var tH=tF[0x0];if(tH['get']('class')=='TargetModel3DCameraMovement'){var tI=['x','y','z','yaw','pitch','fov','distance'];for(var tJ in tI){tJ=tI[tJ];var tK=tH['get']('target'+tJ['charAt'](0x0)['toUpperCase']()+tJ['slice'](0x1));if(tK!==undefined){tG[tJ]=tK;}}}}this['startModel3DWithCameraSpot'](tA,tG);var tL=function(){tA['unbind']('begin',tL,this);tB['play']();};tA['bind']('begin',tL,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(tM,tN){var tO=this['getActiveMediaWithViewer'](tN||this['getMainViewer']());if(tO!=undefined&&(tO['get']('class')['indexOf']('Panorama')!=-0x1||tO['get']('class')=='Video360')){var tP=tM['get']('media');var tQ=this['clonePanoramaCamera'](tM['get']('camera'));this['setCameraSameSpotAsMedia'](tQ,tO);this['startPanoramaWithCamera'](tP,tQ);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(tR,tS,tT,tU,tV){var tW=tR['get']('selectedIndex');var tX=tR['get']('items');var tY=tS['get']('player');if(tX[tW]==tS||tY['get']('rendererPanorama')==tS['get']('media')){if(tT===undefined)tT=tY['get']('yaw');if(tU===undefined)tU=tY['get']('pitch');if(tV===undefined)tV=tY['get']('hfov');tY['moveTo'](tT,tU,tY['get']('roll'),tV);}else{var tZ=tS['get']('media');var u0=this['clonePanoramaCamera'](tS['get']('camera'));var u1=u0['get']('initialPosition');if(tT!==undefined)u1['set']('yaw',tT);if(tU!==undefined)u1['set']('pitch',tU);if(tV!==undefined)u1['set']('hfov',tV);this['startPanoramaWithCamera'](tZ,u0);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(u2){var u3=this['getByClassName']('HotspotPanoramaOverlay');var u4=this['getByClassName']('PanoramaPlayer');var u5=u2=='hotspotEnabled';var u6=u2=='circleEnabled';var u7=!!u2;u3['forEach'](function(u8){var u9=u8['get']('data');if(u9&&u9['hasPanoramaAction']==!![])u8['set']('enabledInSurfaceSelection',u5);});u4['forEach'](function(ua){ua['set']('adjacentPanoramaPositionsEnabled',u6);ua['set']('surfaceSelectionEnabled',u7);});this['get']('data')['surfaceSelectionHotspotMode']=u2;};TDV['Tour']['Script']['setValue']=function(ub,uc,ud){try{if('set'in ub)ub['set'](uc,ud);else ub[uc]=ud;}catch(ue){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uf,ug){var uh=this['getPlayListItems'](uf);var ui=[];var uj=function(){for(var un=0x0;un<uh['length'];++un){var uo=uh[un];uo['set']('startTime',ui[un]);uo['unbind']('stop',uj,this);}};for(var uk=0x0;uk<uh['length'];++uk){var ul=uh[uk];var um=ul['get']('player');if(!um)continue;if(um['get']('video')==uf&&um['get']('state')=='playing'){um['seek'](ug);}else{ui['push'](ul['get']('startTime'));ul['set']('startTime',ug);ul['bind']('stop',uj,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(up,uq){if(up&&uq)this['setStartTimeVideo'](up,uq['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(ur){if(ur&&ur['get']('class')=='PanoramaPlayer'){var us=ur['get']('viewerArea');if(us&&us['get']('translationTransitionEnabled')==!![]){var ut=function(){ur['unbind']('preloadMediaShow',ut,this);us['set']('translationTransitionEnabled',!![]);};us['set']('translationTransitionEnabled',![]);ur['bind']('preloadMediaShow',ut,this);}}};TDV['Tour']['Script']['shareSocial']=function(uu,uv,uw,ux,uy){if(uv==undefined){uv=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uw){uv+=this['updateDeepLink'](ux,![]);}uv=function(uA){switch(uA){case'email':return'mailto:?body='+encodeURIComponent(uv);case'facebook':var uB=uv['indexOf']('?')!=-0x1;uv=uv['replace']('#','?');if(uB){var uC=uv['lastIndexOf']('?');uv=uv['substring'](0x0,uC)+'&'+uv['substring'](uC+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(uv);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(uv);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+uv;case'telegram':return'https://t.me/share/url?url='+uv;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+uv;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(uv);default:return uv;}}(uu);if(uy){for(var uz in uy){uv+='&'+uz+'='+uy[uz];}}if(uu=='clipboard')this['copyToClipboard'](uv);else this['openLink'](uv,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uD,uE,uF,uG){var uH=function(uL){for(var uM=0x0,uN=uE['length'];uM<uN;uM++){var uO=uE[uM];if(!uG||uG(uO,uL))uO['set']('visible',uL);}};if(this['get']('isMobile')){uH['call'](this,!![]);}else{var uI=-0x1;var uJ=function(){uH['call'](this,!![]);if(uI>=0x0)clearTimeout(uI);uD['bind']('rollOut',uK,this);};var uK=function(){var uP=function(){uH['call'](this,![]);};uD['unbind']('rollOut',uK,this);uI=setTimeout(uP['bind'](this),uF);};uD['bind']('rollOver',uJ,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(uQ,uR,uS,uT){var uU=this['_getObjectsByTags'](uR,['InnerModel3DObject'],'tags2Objects',uS)['filter'](function(uV){return uQ['get']('objects')['indexOf'](uV)!=-0x1;}['bind'](this));this['setObjectsVisibility'](uU,uT);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(uW,uX,uY){var uZ=uX['map'](function(v0){return this['getModel3DInnerObject'](uW,v0);}['bind'](this));this['setObjectsVisibility'](uZ,uY);};TDV['Tour']['Script']['setObjectsVisibility']=function(v1,v2){v1['forEach'](function(v3){if(v3)v3['set']('enabled',v2==='toggle'?!v3['get']('enabled'):v2);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(v4,v5){var v6=v4['get']('objects');for(var v7=0x0,v8=v6['length'];v7<v8;++v7){var v9=v6[v7];if(v9['get']('class')=='InnerModel3DObject'&&v9['get']('objectId')==v5)return v9;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(va,vb,vc,vd,ve,vf){var vg=this;var vh=function(){window['resumeAudiosBlocked']=![];vc['set']('selectedIndex',-0x1);vg['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vm,!![]);if(vl){this['unbind']('resize',vj,this);}va['unbind']('close',vh,this);};var vi=function(){va['hide']();};var vj=function(){var vn=function(vE){return va['get'](vE)||0x0;};var vo=vg['get']('actualWidth');var vp=vg['get']('actualHeight');var vq=vg['getMediaWidth'](vb);var vr=vg['getMediaHeight'](vb);var vs=parseFloat(vd)/0x64;var vt=parseFloat(ve)/0x64;var vu=vs*vo;var vv=vt*vp;var vw=vn('footerHeight');var vx=vn('headerHeight');if(!vx){var vy=vn('closeButtonIconHeight')+vn('closeButtonPaddingTop')+vn('closeButtonPaddingBottom');var vz=vg['getPixels'](vn('titleFontSize'))+vn('titlePaddingTop')+vn('titlePaddingBottom');vx=vy>vz?vy:vz;vx+=vn('headerPaddingTop')+vn('headerPaddingBottom');}var vA=vu-vn('bodyPaddingLeft')-vn('bodyPaddingRight')-vn('paddingLeft')-vn('paddingRight');var vB=vv-vx-vw-vn('bodyPaddingTop')-vn('bodyPaddingBottom')-vn('paddingTop')-vn('paddingBottom');var vC=vA/vB;var vD=vq/vr;if(vC>vD){vu=vB*vD+vn('bodyPaddingLeft')+vn('bodyPaddingRight')+vn('paddingLeft')+vn('paddingRight');}else{vv=vA/vD+vx+vw+vn('bodyPaddingTop')+vn('bodyPaddingBottom')+vn('paddingTop')+vn('paddingBottom');}if(vu>vo*vs){vu=vo*vs;}if(vv>vp*vt){vv=vp*vt;}va['set']('width',vu);va['set']('height',vv);va['set']('x',(vo-vn('actualWidth'))*0.5);va['set']('y',(vp-vn('actualHeight'))*0.5);};if(vf){this['executeFunctionWhenChange'](vc,0x0,vi);}var vk=vb['get']('class');var vl=vk=='Video'||vk=='Video360';vc['set']('selectedIndex',0x0);if(vl){this['bind']('resize',vj,this);vj();vc['get']('items')[0x0]['get']('player')['play']();}else{va['set']('width',vd);va['set']('height',ve);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vm=this['pauseCurrentPlayers'](!![]);va['bind']('close',vh,this);va['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vF,vG,vH,vI,vJ,vK,vL,vM,vN,vO,vP,vQ){var vR=![];var vS=function(){w9['unbind']('loaded',vV,this);vZ['call'](this);};var vT=function(){w9['unbind']('click',vT,this);if(wd!=undefined){clearTimeout(wd);}};var vU=function(){setTimeout(w3,0x0);};var vV=function(){this['unbind']('click',vS,this);w8['set']('visible',!![]);w3();wa['set']('visible',!![]);w9['unbind']('loaded',vV,this);w9['bind']('resize',vU,this);wd=setTimeout(vW['bind'](this),0xc8);};var vW=function(){wd=undefined;if(vM){w9['bind']('click',vT,this);vY['call'](this);}w9['bind']('userInteractionStart',w4,this);w9['bind']('userInteractionEnd',w5,this);w9['bind']('backgroundClick',vZ,this);if(vG){w9['bind']('click',w1,this);w9['set']('imageCursor','hand');}wa['bind']('click',vZ,this);if(vP)vP['call'](this);};var vX=function(){if(vM&&wd){clearTimeout(wd);wd=undefined;}};var vY=function(){if(vM){vX();wd=setTimeout(vZ['bind'](this),vM);}};var vZ=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);vR=!![];if(wd)clearTimeout(wd);if(we)clearTimeout(we);if(vM)vT();if(vQ)vQ['call'](this);w9['set']('visible',![]);if(vK&&vK['get']('duration')>0x0){vK['bind']('end',w0,this);}else{w9['set']('image',null);}wa['set']('visible',![]);w8['set']('visible',![]);this['unbind']('click',vS,this);w9['unbind']('backgroundClick',vZ,this);w9['unbind']('userInteractionStart',w4,this);w9['unbind']('userInteractionEnd',w5,this,!![]);w9['unbind']('resize',vU,this);if(vG){w9['unbind']('click',w1,this);w9['set']('cursor','default');}wa['unbind']('click',vZ,this);this['resumePlayers'](wc,vN==null||vO);if(vO){this['resumeGlobalAudios']();}if(vN){this['stopGlobalAudio'](vN);}};var w0=function(){w9['set']('image',null);vK['unbind']('end',w0,this);};var w1=function(){w9['set']('image',w2()?vF:vG);};var w2=function(){return w9['get']('image')==vG;};var w3=function(){var wf=w9['get']('actualWidth')-w9['get']('imageLeft')-w9['get']('imageWidth')+0xa;var wg=w9['get']('imageTop')+0xa;if(wf<0xa)wf=0xa;if(wg<0xa)wg=0xa;wa['set']('right',wf);wa['set']('top',wg);};var w4=function(){vX();if(we){clearTimeout(we);we=undefined;}else{wa['set']('visible',![]);}};var w5=function(){vY['call'](this);if(!vR){we=setTimeout(w6,0x12c);}};var w6=function(){we=undefined;wa['set']('visible',!![]);w3();};var w7=function(wh){var wi=wh['get']('data');if(wi&&'extraLevels'in wi){var wj=this['rootPlayer']['createInstance'](wh['get']('class'));var wk=wi['extraLevels'];for(var wl=0x0;wl<wk['length'];wl++){var wm=wk[wl];if(typeof wm=='string')wk[wl]=this[wm['replace']('this.','')];}wj['set']('levels',wh['get']('levels')['concat'](wk));wh=wj;}return wh;};this['getMainViewer']()['set']('toolTipEnabled',![]);var w8=this['veilPopupPanorama'];var w9=this['zoomImagePopupPanorama'];var wa=this['closeButtonPopupPanorama'];if(vL){for(var wb in vL){wa['set'](wb,vL[wb]);}}var wc=this['pauseCurrentPlayers'](vN==null||!vO);if(vO){this['pauseGlobalAudios'](null,!![]);}if(vN){this['playGlobalAudio'](vN,!![]);}var wd=undefined;var we=undefined;vF=w7['call'](this,vF);if(vG)vG=w7['call'](this,vG);w9['bind']('loaded',vV,this);setTimeout(function(){this['bind']('click',vS,this,![]);}['bind'](this),0x0);w9['set']('image',vF);w9['set']('customWidth',vH);w9['set']('customHeight',vI);w9['set']('showEffect',vJ);w9['set']('hideEffect',vK);w9['set']('visible',!![]);return w9;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(wn,wo,wp,wq,wr,ws,wt,wu){var wv=this['isCardboardViewMode']();if(wn['get']('visible')||!wv&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wv){var ww=this['zoomImagePopupPanorama'];var wx=wn['get']('showDuration');var wy=wn['get']('hideDuration');var wA=this['pauseCurrentPlayers'](ws==null||!wt);var wB=wn['get']('popupMaxWidth');var wC=wn['get']('popupMaxHeight');var wD=function(){var wH=function(){if(!this['isCardboardViewMode']())wn['set']('visible',![]);};wn['unbind']('showEnd',wD,this);wn['set']('showDuration',0x1);wn['set']('hideDuration',0x1);this['showPopupImage'](wp,wq,wn['get']('popupMaxWidth'),wn['get']('popupMaxHeight'),null,null,wo,wr,ws,wt,wH,wE);};var wE=function(){var wI=function(){wn['unbind']('hideEnd',wI,this);if(wu)wu();};var wJ=function(){wn['unbind']('showEnd',wJ,this);wn['bind']('hideEnd',wI,this,!![]);wn['set']('visible',![]);wn['set']('showDuration',wx);wn['set']('popupMaxWidth',wB);wn['set']('popupMaxHeight',wC);};this['resumePlayers'](wA,ws==null||!wt);var wK=ww['get']('imageWidth');var wL=ww['get']('imageHeight');wn['bind']('showEnd',wJ,this,!![]);wn['set']('showDuration',0x1);wn['set']('hideDuration',wy);wn['set']('popupMaxWidth',wK);wn['set']('popupMaxHeight',wL);if(wn['get']('visible'))wJ();else wn['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};wn['bind']('showEnd',wD,this,!![]);}else{var wF=function(){this['resumePlayers'](wA,ws==null||wt);if(wt){this['resumeGlobalAudios']();}if(ws){this['stopGlobalAudio'](ws);}if(wq){wn['set']('image',wp);wn['unbind']('click',wG,this);}wn['unbind']('hideEnd',wF,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wu)wu();};var wG=function(){wn['set']('image',wn['get']('image')==wp?wq:wp);};var wA=this['pauseCurrentPlayers'](ws==null||!wt);if(wt){this['pauseGlobalAudios'](null,!![]);}if(ws){this['playGlobalAudio'](ws,!![]);}if(wq)wn['bind']('click',wG,this);wn['bind']('hideEnd',wF,this,!![]);}wn['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(wM,wN,wO,wP,wQ){var wR=![];var wS=function(){wM['unbind']('showEnd',wS);wW['bind']('click',wU,this);wV();wW['set']('visible',!![]);}['bind'](this);var wT=function(){wR=!![];if(!wM['get']('loop'))wU();}['bind'](this);var wU=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);wM['set']('visible',![]);wW['set']('visible',![]);wW['unbind']('click',wU,this);wM['unbind']('end',wT,this);wM['unbind']('hideEnd',wU,this,!![]);this['resumePlayers'](wY,!![]);if(wO){this['resumeGlobalAudios']();}if(wP)wP();if(wQ&&wR)wQ();}['bind'](this);var wV=function(){var wZ=0xa;var x0=0xa;wW['set']('right',wZ);wW['set']('top',x0);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var wW=this['closeButtonPopupPanorama'];if(wN){for(var wX in wN){wW['set'](wX,wN[wX]);}}window['resumeAudiosBlocked']=!![];var wY=this['pauseCurrentPlayers'](!![]);if(wO){this['pauseGlobalAudios']();}wM['bind']('end',wT,this,!![]);wM['bind']('showEnd',wS,this,!![]);wM['bind']('hideEnd',wU,this,!![]);wM['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(x1,x2,x3){if(x1['get']('visible')==!![]){return;}var x4=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(x3){this['resumeGlobalAudios']();}x5();this['resumePlayers'](x8,!x3);x1['unbind']('close',x4,this);};var x5=function(){x1['unbind']('click',x5,this);if(x6!=undefined){clearTimeout(x6);}};var x6=undefined;if(x2){var x7=function(){x1['hide']();};x1['bind']('click',x5,this);x6=setTimeout(x7,x2);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(x3){this['pauseGlobalAudios'](null,!![]);}var x8=this['pauseCurrentPlayers'](!x3);x1['bind']('close',x4,this);x1['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(x9,xa){var xb=x9['get']('media');var xc=window['currentPanoramasWithCameraChanged']==undefined||!(xb['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xc){return;}var xd=xb['get']('camera');xa=Object['assign']({},xa);if(!xb['get']('isLoaded')){var xe={};for(var xg in xa){var xh='initial'+xg['charAt'](0x0)['toUpperCase']()+xg['slice'](0x1);xe[xh]=xd['get'](xh);xa[xh]=xa[xg];delete xa[xg];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xi=xb['get']('id');window['currentPanoramasWithCameraChanged'][xi]=[x9];var xj=function(){if(xi in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xi];}x9['unbind']('begin',xj,this);for(var xr in xe){xd['set'](xr,xe[xr]);}};x9['bind']('begin',xj,this);}else{for(var xg in xa){xd['set'](xg,xa[xg]);}xd['setStoredPosition'](xa);}var xk=x9['get']('player');var xl=xk['get']('viewerArea');var xm=this['getActivePlayersWithViewer'](xl);var xn=xm['find'](function(xs){return this['getMediaFromPlayer'](xs)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var xo=xb['get']('data');if(xn&&xo['panoramaLocations']){var xp=this['getMediaFromPlayer'](xn);var xq=_getObject(this,xo['panoramaLocations']['find'](xt=>xp==_getObject(this,_getObject(this,xt)['get']('data')['panorama'])));if(xq&&!xq['get']('forceModelLoading')){xq['set']('forceModelLoading',!![]);x9['bind']('begin',function xu(){x9['unbind']('begin',xu,this);xq['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xv,xw){var xx=this['getByClassName']('PlayList');if(xx['length']==0x0)return;var xy=window['currentPanoramasWithCameraChanged']==undefined||!(xv['get']('id')in window['currentPanoramasWithCameraChanged']);var xz=[];for(var xB=0x0,xC=xx['length'];xB<xC;++xB){var xD=xx[xB];var xE=xD['get']('items');for(var xF=0x0,xG=xE['length'];xF<xG;++xF){var xI=xE[xF];if(xI['get']('media')==xv&&(xI['get']('class')=='PanoramaPlayListItem'||xI['get']('class')=='Video360PlayListItem')){if(xy){xz['push']({'camera':xI['get']('camera'),'item':xI});}xI['set']('camera',xw);}}}if(xz['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xJ=xv['get']('id');window['currentPanoramasWithCameraChanged'][xJ]=xz;var xK=function(){if(xJ in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xJ];}for(var xM=0x0;xM<xz['length'];xM++){xz[xM]['item']['set']('camera',xz[xM]['camera']);xz[xM]['item']['unbind']('end',xK,this);}};for(var xB=0x0;xB<xz['length'];xB++){var xL=xz[xB];var xI=xL['item'];this['skip3DTransitionOnce'](xI['get']('player'));xI['bind']('end',xK,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(xN,xO){var xP=xN['get']('initialSequence');xP['pause']();var xQ=function(){xP['play']();};setTimeout(xQ,xO);};TDV['Tour']['Script']['syncPlaylists']=function(xR){var xS=function(y0,y1){for(var y2=0x0,y3=xR['length'];y2<y3;++y2){var y4=xR[y2];if(y4!=y1){var y5=y4['get']('items');for(var y6=0x0,y7=y5['length'];y6<y7;++y6){if(y5[y6]['get']('media')==y0){if(y4['get']('selectedIndex')!=y6){y4['set']('selectedIndex',y6);}break;}}}}};var xT=function(y8){var y9=y8['source'];var ya=y9['get']('selectedIndex');if(ya<0x0)return;var yb=y9['get']('items')[ya]['get']('media');xS(yb,y9);};var xU=function(yc){var yd=yc['source']['get']('panoramaMapLocation');if(yd){var ye=yd['get']('map');xS(ye);}};for(var xW=0x0,xY=xR['length'];xW<xY;++xW){xR[xW]['bind']('change',xT,this);}var xZ=this['getByClassName']('MapPlayer');for(var xW=0x0,xY=xZ['length'];xW<xY;++xW){xZ[xW]['bind']('panoramaMapLocation_change',xU,this);}};TDV['Tour']['Script']['translate']=function(yf){return this['get']('data')['localeManager']['trans'](yf);};TDV['Tour']['Script']['triggerOverlay']=function(yg,yh){if(yg['get']('areas')!=undefined){var yi=yg['get']('areas');for(var yj=0x0;yj<yi['length'];++yj){yi[yj]['trigger'](yh);}}else{yg['trigger'](yh);}};TDV['Tour']['Script']['updateDeepLink']=function(yk){yk=yk||{};var yl=this['mainPlayList']['get']('selectedIndex');var ym;var yn=yl>=0x0?this['mainPlayList']['get']('items')[yl]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(yn!=undefined){var yp=yn['get']('data');if(yp&&yp['label']){ym='#media-name='+encodeURIComponent(yp['label']);}else if(yl>=0x0){ym='#media='+(yl+0x1);}}if(yn){if(yk['includeCurrentView']===!![]){var yq=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yq){switch(yq['get']('class')){case'PanoramaPlayer':var yr=yq['get']('yaw');var ys=yq['get']('pitch');if(!isNaN(yr)&&!isNaN(ys))ym+='&yaw='+yr['toFixed'](0x2)+'&pitch='+ys['toFixed'](0x2);break;case'Model3DPlayer':var yt=yq['get']('model');var yu=yt['get']('camera');var yv=[];yv['push']('yaw='+yu['get']('yaw')['toFixed'](0x2));yv['push']('pitch='+yu['get']('pitch')['toFixed'](0x2));yv['push']('x='+yu['get']('x')['toFixed'](0x5));yv['push']('y='+yu['get']('y')['toFixed'](0x5));yv['push']('z='+yu['get']('z')['toFixed'](0x5));if(yu['get']('class')=='OrbitModel3DCamera')yv['push']('distance='+yu['get']('distance')['toFixed'](0x5));ym+='&'+yv['join']('&');break;}}}if(yk['includeCurrentVisibleHotspots']===!![]){var yw=this['getOverlays'](yn);var yx=[];var yy=[];for(var yz=0x0,yA=yw['length'];yz<yA;++yz){var yB=yw[yz];var yC=yB['get']('enabled');var yp=yB['get']('data');if(yC===undefined||!yp||!yp['label'])continue;var yD=encodeURIComponent(yp['label']);var yE=yp['group'];if(yC!=yp['defaultEnabledValue']){if(yC){yx['push'](yD);}else if(!yE){yy['push'](yD);}}}if(yx['length']>0x0)ym+='&son='+yx['join'](',');if(yy['length']>0x0)ym+='&hon='+yy['join'](',');if(yn['get']('class')=='Model3D'){var yF=yn['get']('variant');if(yF)ym+='&variant='+yF;var yG=yn['get']('objects');var yH=[];var yI=[];yG['forEach'](function(yK){if(yK['get']('class')=='InnerModel3DObject')(yK['get']('enabled')?yH:yI)['push'](yK['get']('objectId'));});if(yH['length']>0x0)ym+='&sobjids='+yH['join'](',');if(yI['length']>0x0)ym+='&hobjids='+yI['join'](',');}}if(yk['includeCurrentMeasureModel3DObjects']===!![]&&yn['get']('class')=='Model3D'){var yJ=[];yn['get']('objects')['forEach'](function(yL){if(yL['get']('class')=='MeasureModel3DObject'&&yL['get']('mode')!='create'){var yM=[yL['get']('data')['id'],yL['get']('x'),yL['get']('y'),yL['get']('z')];yL['get']('points')['forEach'](function(yN){yM['push'](yN['get']('x'),yN['get']('y'),yN['get']('z'));});if(yM['length']>0x4){yJ['push'](yM['join'](','));}}});if(yJ['length']>0x0)ym+='&measures='+yJ['join']('+');}}if(ym&&yk['setHash']===!![]){location['hash']=ym;}return ym;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(yO,yP,yQ){var yR=function(){var yT=yO['get']('selectedIndex');if(yT>=0x0){var yU=function(){yX['unbind']('begin',yU);yV(yT);};var yV=function(yY){var yZ=yX['get']('media');var z0=yZ['get']('data');var z1=z0!==undefined?z0['description']:undefined;yW(z1);};var yW=function(z2){if(z2!==undefined){yP['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+z2+'</SPAN></div>');}else{yP['set']('html','');}var z3=yP['get']('html');yP['set']('visible',z3!==undefined&&z3);};var yX=yO['get']('items')[yT];if(yP['get']('html')){yW('Loading...');yX['bind']('begin',yU);}else{yV(yT);}}};var yS=function(){yP['set']('html',undefined);yO['unbind']('change',yR,this);yQ['unbind']('stop',yS,this);};if(yQ){yQ['bind']('stop',yS,this);}yO['bind']('change',yR,this);yR();};TDV['Tour']['Script']['updateVideoCues']=function(z4,z5){var z6=z4['get']('items')[z5];var z7=z6['get']('media');if(z7['get']('cues')['length']==0x0)return;var z8=z6['get']('player');var z9=[];var za=function(){if(z4['get']('selectedIndex')!=z5){z7['unbind']('cueChange',zb,this);z4['unbind']('change',za,this);}};var zb=function(zc){var zd=zc['data']['activeCues'];for(var ze=0x0,zf=z9['length'];ze<zf;++ze){var zg=z9[ze];if(zd['indexOf'](zg)==-0x1&&(zg['get']('startTime')>z8['get']('currentTime')||zg['get']('endTime')<z8['get']('currentTime')+0.5)){zg['trigger']('end');}}z9=zd;};z7['bind']('cueChange',zb,this);z4['bind']('change',za,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(zh,zi){var zj=this['get'](zi);for(var zk in zh){zh[zk]['set']('visible',zj);}};TDV['Tour']['Script']['quizStart']=function(){var zl=this['get']('data')['quiz'];return zl?zl['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zm=this['get']('data')['quiz'];return zm?zm['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zn=this['get']('data')['quiz'];return zn?zn['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zo=this['get']('data')['quiz'];return zo?zo['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zp){var zq=this['get']('data')['quiz'];if(zq)zq['setItemFound'](zp);};TDV['Tour']['Script']['quizShowQuestion']=function(zr){var zs=this['get']('data');var zt=zs['quiz'];var zu;if(zt){var zv=this['pauseCurrentPlayers'](!![]);var zw=this[zr];var zx;if(!zw['media']){zx=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zx={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zy=this['get']('data')['tour']['getNotchValue']();if(zy>0x0){zx=this['mixObject'](zx||{},{'theme':{'window':{'width':undefined,'left':zy,'right':zy}}});}}var zz=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zw['title'];if(zz)this['textToSpeech'](zw['title'],zr);zu=zt['showQuestion'](zr,zx);zu['then'](function(zA){if(zz)this['stopTextToSpeech']();this['resumePlayers'](zv,!![]);}['bind'](this));}return zu;};TDV['Tour']['Script']['quizShowScore']=function(zB){var zC=this['get']('data');var zD=zC['quiz'];if(zD){if(this['get']('isMobile')){zB=zB||{};zB=this['mixObject'](zB,zC[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zD['showScore'](zB);}};TDV['Tour']['Script']['quizShowTimeout']=function(zE,zF){var zG=this['get']('data');var zH=zG['quiz'];if(zH){if(this['get']('isMobile')){zF=zF||{};zF=this['mixObject'](zF,zG[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}zH['showTimeout'](zE,zF);}};TDV['Tour']['Script']['stopTextToSpeech']=function(zI){if(window['speechSynthesis']&&(zI==undefined||this['t2sLastID']==zI)){var zJ=window['speechSynthesis'];if(zJ['speaking']){zJ['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(zK){return this['t2sLastID']==zK?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(zL,zM,zN){if(this['get']('mute')){return;}var zO=this['get']('data');var zP=zO['disableTTS']||![];if(zP)return;if(zM!=undefined&&this['t2sLastID']!=zM||zM==undefined){zN=zN||0x0;if(this['t2sLastID']&&zN>this['t2sLastPriority']){return;}var zQ=zO['tour'];var zR=zO['textToSpeechConfig'];var zS=zO['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var zT=window['speechSynthesis'];if(zT['speaking']){zT['cancel']();}var zU=new SpeechSynthesisUtterance(zL);if(zS)zU['lang']=zS;var zV;if(zR){zU['volume']=zR['volume'];zU['pitch']=zR['pitch'];zU['rate']=zR['rate'];if(zR['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zU['onend']=function(){this['t2sLastID']=null;if(zV)clearInterval(zV);if(zR['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){zV=setInterval(function(){zT['pause']();zT['resume']();},0xbb8);}zT['speak'](zU);this['t2sLastPriority']=zN;this['t2sLastID']=zM;}else if(zQ['isMobileApp']()){if(!zQ['isIOS']()){var zW=function(zX,zY){var zZ={'command':'tts','type':zX};if(zY)zZ=this['mixObject'](zZ,zY);android['sendJSON'](JSON['stringify'](zZ));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(zR['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);zW('stop');if(zR){zW('init',{'volume':zR['volume'],'pitch':zR['pitch'],'rate':zR['rate'],'language':zS});if(zR['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zW('play',{'text':zL,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(A0){var A1=A0['get']('class');var A2;if(A1=='HTMLText'){var A3=A0['get']('html');if(A3){A2=this['htmlToPlainText'](A3,{'linkProcess':function(A4,A5){return A5;}});}}else if(A1=='BaseButton'){A2=A0['get']('label');}else if(A1=='Label'){A2=A0['get']('text');}if(A2){this['textToSpeech'](A2,A0['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(A6){var A7=A6['get']('id');if(this['getStateTextToSpeech'](A7)!='playing')this['textToSpeechComponent'](A6);else this['stopTextToSpeech'](A7);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function A8(Aa){var Ab=Aa['source'];this['textToSpeech'](Ab['get']('toolTip'),Ab['get']('id'),0x1);}function A9(Ac){var Ad=Ac['source'];this['stopTextToSpeech'](Ad['get']('id'));}setTimeout(function(){var Ae=this['getByClassName']('UIComponent');for(var Af=0x0,Ag=Ae['length'];Af<Ag;++Af){var Ah=Ae[Af];var Ai=Ah['get']('toolTip');if(!!Ai||Ah['get']('class')=='ViewerArea'){Ah['bind']('toolTipShow',A8,this);Ah['bind']('toolTipHide',A9,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(Aj){var Ak=this['getActivePlayerWithViewer'](Aj);if(Ak&&(Ak['get']('class')=='PanoramaPlayer'||Ak['get']('class')=='Model3DPlayer'))Ak['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Al,Am){var An=function(AB,AC){var AD='';for(var AE=0x0;AE<AC;AE+=0x1){AD+=AB;}return AD;};var Ao=null;var Ap=null;var Aq='underline';var Ar='indention';var As='-';var At=0x3;var Au='-';var Av=![];if(!!Am){if(typeof Am['linkProcess']==='function'){Ao=Am['linkProcess'];}if(typeof Am['imgProcess']==='function'){Ap=Am['imgProcess'];}if(!!Am['headingStyle']){Aq=Am['headingStyle'];}if(!!Am['listStyle']){Ar=Am['listStyle'];}if(!!Am['uIndentionChar']){As=Am['uIndentionChar'];}if(!!Am['listIndentionTabs']){At=Am['listIndentionTabs'];}if(!!Am['oIndentionChar']){Au=Am['oIndentionChar'];}if(!!Am['keepNbsps']){Av=Am['keepNbsps'];}}var Aw=An(As,At);var Ax=String(Al)['replace'](/\n|\r/g,'\x20');const Ay=Ax['match'](/<\/body>/i);if(Ay){Ax=Ax['substring'](0x0,Ay['index']);}const Az=Ax['match'](/<body[^>]*>/i);if(Az){Ax=Ax['substring'](Az['index']+Az[0x0]['length'],Ax['length']);}Ax=Ax['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Ax=Ax['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Ax=Ax['replace'](/<img([^>]*)>/gi,function(AF,AG){var AH='';var AI='';var AJ=/src="([^"]*)"/i['exec'](AG);var AK=/alt="([^"]*)"/i['exec'](AG);if(AJ!==null){AH=AJ[0x1];}if(AK!==null){AI=AK[0x1];}if(typeof Ap==='function'){return Ap(AH,AI);}if(AI===''){return'![image]\x20('+AH+')';}return'!['+AI+']\x20('+AH+')';});function AA(){return function(AL,AM,AN,AO){var AP=0x0;if(AN&&/start="([0-9]+)"/i['test'](AN)){AP=/start="([0-9]+)"/i['exec'](AN)[0x1]-0x1;}var AQ='<p>'+AO['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(AR,AS){var AT=0x0;var AU=AS['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(AM==='o'&&AT===0x0){AP+=0x1;AT+=0x1;return'<br\x20/>'+AP+An(Au,At-String(AP)['length']);}return'<br\x20/>'+Aw;});return AU;})+'</p>';return AQ;};}if(Ar==='linebreak'){Ax=Ax['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Ar==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Ax)){Ax=Ax['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,AA());}}if(Aq==='linebreak'){Ax=Ax['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Aq==='underline'){Ax=Ax['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(AV,AW){return'\x0a&nbsp;\x0a'+AW+'\x0a'+An('=',AW['length'])+'\x0a&nbsp;\x0a';});Ax=Ax['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(AX,AY){return'\x0a&nbsp;\x0a'+AY+'\x0a'+An('-',AY['length'])+'\x0a&nbsp;\x0a';});Ax=Ax['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(AZ,B0,B1){return'\x0a&nbsp;\x0a'+B1+'\x0a&nbsp;\x0a';});}else if(Aq==='hashify'){Ax=Ax['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(B2,B3,B4){return'\x0a&nbsp;\x0a'+An('#',B3)+'\x20'+B4+'\x0a&nbsp;\x0a';});}Ax=Ax['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Ax=Ax['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(B5,B6,B7){if(typeof Ao==='function'){return Ao(B6,B7);}return'\x20['+B7+']\x20('+B6+')\x20';});Ax=Ax['replace'](/\n[ \t\f]*/gi,'\x0a');Ax=Ax['replace'](/\n\n+/gi,'\x0a');if(Av){Ax=Ax['replace'](/( |\t)+/gi,'\x20');Ax=Ax['replace'](/&nbsp;/gi,'\x20');}else{Ax=Ax['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Ax=Ax['replace'](/\n +/gi,'\x0a');Ax=Ax['replace'](/^ +/gi,'');while(Ax['indexOf']('\x0a')===0x0){Ax=Ax['substring'](0x1);}if(Ax['length']===0x0||Ax['lastIndexOf']('\x0a')!==Ax['length']-0x1){Ax+='\x0a';}return Ax;};TDV['Tour']['Script']['openEmbeddedPDF']=function(B8,B9){var Ba=!!window['MSInputMethodContext']&&!!document['documentMode'];if(Ba){this['openLink'](B9,'_blank');return;}var Bb=B8['get']('class');var Bc=!new RegExp('^(?:[a-z]+:)?//','i')['test'](B9);if(Bc&&Bb=='WebFrame'){var Bd=location['origin']+location['pathname'];B8['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(Bd['substring'](0x0,Bd['lastIndexOf']('/'))+'/'+B9)+'#0');}else{var Be=location['origin']==new URL(B9)['origin'];var Bf='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var Bg=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var Bh='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+B9+'\x22,\x20\x22#content\x22,\x20{'+(Be?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+Bf+'\x22,'+'\x22forcePDFJS\x22:\x20'+Bg+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+Be+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(Bb=='WebFrame'){B8['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+Bh+'</body>'+'</html>'));}else if(Bb=='HTML'){B8['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(Bh));}}};TDV['Tour']['Script']['getKey']=function(Bi){return window[Bi];};TDV['Tour']['Script']['registerKey']=function(Bj,Bk){window[Bj]=Bk;};TDV['Tour']['Script']['unregisterKey']=function(Bl){delete window[Bl];};TDV['Tour']['Script']['existsKey']=function(Bm){return Bm in window;};function _getCurrentActiveModels(){var Bn=this['getByClassName']('Model3DPlayer');var Bo=[];for(var Bp of Bn){var Bq=Bp['get']('model');var Br=Bp['get']('viewerArea');if(Bq&&Bq['get']('isLoaded')&&Br&&Br['get']('visible'))Bo['push'](Bq);}return Bo;}function _onMeasureClick(Bs){var Bt=Bs['source'];var Bu=Bt['get']('mode');if(Bu!='create'){Bt['set']('mode',Bu=='view'?'edit':'view');console['log'](Bt['get']('mode'));}}function _forEachMeasureModel3DObject(Bv,Bw){if(!Bv)Bv=_getCurrentActiveModels['call'](this);Bv['forEach'](function(Bx){Bx['get']('objects')['forEach'](function(By){if(By['get']('class')=='MeasureModel3DObject')Bw(Bx,By);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Bz,BA){if(!Bz)Bz=_getCurrentActiveModels['call'](this);Bz['forEach'](function(BB){var BC=BB['get']('objects');var BD=BC['filter'](function(BE){return!BA['call'](this,BE);});if(BD['length']!=BC['length']){BB['set']('objects',BD);BC['forEach'](function(BF){if(BA['call'](this,BF))this['disposeInstance'](BF);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(BG){var BH=this['clone'](BG,BG['getAttributeNames']()['filter'](function(BI){return BI!='id';}));BH['set']('data',{'id':BG['get']('id')});return BH;}TDV['Tour']['Script']['startMeasurement']=function(BJ,BK){if(!BJ)BJ=_getCurrentActiveModels['call'](this);var BL={},BM={};BJ['forEach'](function(BO){var BP=BO['get']('objects');var BQ=BP['findIndex'](function(BV){return BV['get']('class')=='MeasureModel3DObject'&&BV['get']('mode')=='create';});var BR=BQ!=-0x1;if(BR){var BS=BP[BQ];if(BS['get']('points')['length']==0x0){BP['splice'](BQ,0x1);this['disposeInstance'](BS);}else BS['set']('mode','view');}var BT=_cloneMeasureModel3DObject['call'](this,BK);this['cloneBindings'](BK,BT,'modeChange');BT['set']('mode','create');BT['bind']('click',_onMeasureClick,this);var BU=BO['get']('camera');BT['bind']('modeChange',function BW(){if(BT['get']('mode')=='create'){BL[BO['get']('id')]=BO['get']('surfaceSelectionEnabled');BO['set']('surfaceSelectionEnabled',!![]);if(BU['get']('class')=='FlyOverModel3DCamera'){BM[BO['get']('id')]=BU['get']('doubleClickAction');BU['set']('doubleClickAction','none');}}else{BT['unbind']('modeChange',BW,this);BO['set']('surfaceSelectionEnabled',BL[BO['get']('id')]);if(BU['get']('class')=='FlyOverModel3DCamera'){BU['set']('doubleClickAction',BM[BO['get']('id')]);}}},this);if(BJ['length']>0x0){BT['bind']('distanceChange',function BX(){BT['unbind']('distanceChange',BX,this);BN['call'](this,BJ['filter'](BY=>BY!=BO));},this);}BP=BP['concat']();BP['push'](BT);BO['set']('objects',BP);}['bind'](this));function BN(BZ){this['stopMeasurement'](BZ);for(var C0 of BZ){var C1=C0['get']('id');C0['set']('surfaceSelectionEnabled',BL[C1]);if(C1 in BM)C0['get']('camera')['set']('doubleClickAction',BM[C1]);}}};TDV['Tour']['Script']['stopMeasurement']=function(C2){_deleteModel3DObjects['call'](this,C2,function(C3){return C3['get']('class')=='MeasureModel3DObject'&&C3['get']('mode')=='create'&&C3['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,C2,function(C4,C5){if(C5['get']('mode')=='create'){C5['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(C6,C7){if(!C6)C6=_getCurrentActiveModels['call'](this);var C8=C6['some'](function(C9){var Ca=C9['get']('objects');var Cb=Ca['find'](function(Cc){return Cc['get']('class')=='MeasureModel3DObject'&&Cc['get']('mode')=='create';});return Cb!=null;});if(!C8)this['startMeasurement'](C6,C7);else this['stopMeasurement'](C6);};TDV['Tour']['Script']['cleanAllMeasurements']=function(Cd){_deleteModel3DObjects['call'](this,Cd,function(Ce){return Ce['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Cf){_deleteModel3DObjects['call'](this,Cf,function(Cg){return Cg['get']('class')=='MeasureModel3DObject'&&Cg['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Ch,Ci){_forEachMeasureModel3DObject['call'](this,Ch,function(Cj,Ck){Ck['set']('enabled',Ci);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Cl){_forEachMeasureModel3DObject['call'](this,Cl,function(Cm,Cn){Cn['set']('enabled',!Cn['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Co){_forEachMeasureModel3DObject['call'](this,null,function(Cp,Cq){Cq['set']('units',Co);});};
//# sourceMappingURL=script_v2023.0.7.js.map
//Generated with v2023.0.7, Fri Apr 21 2023